<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
<title>V-Best Luxury Interiors | Buy Luxury Furniture in Nigeria</title>
<meta name="description" content="Shop luxury furniture in Lagos at V-best Luxury Interiors ‚Äî sofas, beds, dining sets, and office furniture. Fast delivery, authentic designs, and 24/7 WhatsApp support.">
<meta name="keywords" content="furniture, V-Best, V'Best, sofa, sofas for sale, sofa set, leather sofa, V-Best Luxury Furnitures, V'Best Luxury Furnitures, v'best Luxury Interiors, V-Best Luxury Interiors, sectional sofa, sofa bed, living room furniture, bed, bed frame, king size bed, queen bed, beds for sale, mattress, dining table, dining set, dining chairs, wardrobe, closet design, office furniture, home furniture, outdoor furniture, patio furniture, custom furniture, bespoke furniture, upholstery services, made to order furniture, furniture store near me, furniture Lagos, modern furniture Lagos, luxury furniture Lagos, handcrafted furniture Lagos, modular sofas Lagos, leather sofas Lagos, bedroom sets Lagos, dining room furniture Lagos">
<link rel="canonical" href="https://vbest-site.vercel.app/">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Vbest Luxury Interiors ‚Äî Premium Furniture in Lagos">
<meta property="og:description" content="Premium sofas, beds, dining & office furniture in Lagos. Fast delivery & custom designs.">
<meta property="og:image" content="https://vbest-site.vercel.app/blog/logo.jpg">
<meta property="og:url" content="https://vbest-site.vercel.app/">
<meta name="twitter:card" content="summary_large_image">


  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="/image/jpeg" href="/blog/logo.jpg">
<style>
/* SHOP NOW button matching Dining (uses dining variable --btn) */

  /* ================= Base (Amazon-like ligh.t theme) ================= */
:root {
  --bg: white;                 /* page background */
  --panel: #f7f7f7;            /* cards / sections */
  --card-border: #e3e6e6;      /* borders */

  --text: #0f1111;             /* main text */
  --muted: #565959;            /* secondary text */

  --accent: #ff9900;           /* buttons (Amazon orange) */
  --accent-2: #e68a00;

  --brand-blue: #146eb4;       /* links only */
  --star: #ffa41c;             /* Amazon star color */
}

  /* ====== safe global fixes ====== */
  * { box-sizing: border-box; }
  html, body { height:100%; overflow-x: hidden; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
  img { max-width: 100%; height: auto; display: block; }

  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: var(--bg);
    color: var(--text);
    text-align: center;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* Header */
  header {
    background: var(--bg);
    color: var(--text);
    padding: 40px 20px 10px;
    position: relative;
  }
  .logo { text-align:center; margin: 12px auto; }
  .logo img { max-width:100%; height:auto; max-height:250px; border-radius:6px; object-fit:contain; display:block; margin:0 auto; background:#fff; }

  /* Logo caption */
  .logo-caption { color: var(--accent); font-weight:700; }

  /* Featured / rewrite area */
  .rewrite-side { text-align:center; margin: 26px 0; }
  .rewrite-side h3 { font-size: clamp(18px, 3.2vw, 22px); color: var(--brand-blue); margin: 6px 0 2px; font-weight:700; }
  .rewrite-side h2 { font-size: clamp(22px, 4.2vw, 34px); margin: 0 0 6px; font-weight:800; color:var(--text); }
  .rewrite-side p { font-size: clamp(16px, 2.2vw, 18px); color: var(--muted); margin: 0; }



  /* Reviews layout - made readable on white */
  .vbest-reviews {
    max-width:1160px;
    margin: 12px auto 0;
    padding: 18px;
    box-sizing:border-box;
    text-align:left;
    background: #fff;
    border: 1px solid var(--card-border);
    border-radius: 8px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.04);
  }
  .vbest-summary { text-align:center; margin-bottom:12px; }
  .vbest-score-number { font-size:26px; font-weight:800; color:var(--text); line-height:1; }
  .vbest-stars { color:var(--star); font-size:16px; margin:4px 0; }
  .vbest-count { color:var(--muted); font-size:13px; margin-bottom:8px; }

  .vbest-bars { max-width:520px; margin:0 auto 8px; text-align:left; }
  .vbest-bar-row { display:flex; align-items:center; gap:10px; margin:6px 0; }
  .vbest-bar-label { width:18px; color:var(--muted); font-weight:700; }
  .vbest-bar { flex:1; height:10px; background:#eee; border-radius:6px; overflow:hidden; border:1px solid rgba(0,0,0,0.03); }
  .vbest-bar-fill { height:100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); border-radius:6px; width:0%; }
  .vbest-bar-num { width:36px; text-align:right; color:var(--muted); font-size:13px; }

  .vbest-write-btn {
    margin-top:8px;
    padding:8px 14px;
    background:var(--accent);
    color:#fff;
    border-radius:8px;
    cursor:pointer;
    font-weight:700;
    border:0;
  }
  .vbest-write-btn:hover { opacity:0.95; transform:translateY(-1px); }

  .vbest-list { max-width:900px; margin:12px auto 0; }
  .vbest-review {
    display:flex;
    gap:12px;
    padding:14px 12px;
    border-bottom:1px solid var(--card-border);
    align-items:flex-start;
    background: var(--panel);
    border-radius:8px;
    margin-bottom:10px;
  }
  .vbest-avatar { width:56px; height:56px; border-radius:50%; background:var(--star); color:#111; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:20px; flex:0 0 56px; }
  .vbest-review-body { flex:1; min-width:0; }
  .vbest-review-meta { display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-bottom:8px; }
  .vbest-review-meta strong { color:var(--text); font-size:15px; }
  .vbest-verified { color:var(--accent); font-size:14px; }
  .vbest-date { color:var(--muted); font-size:12px; margin-left:6px; }
  .vbest-review-stars { color:var(--star); margin-left:auto; font-size:14px; }
  .vbest-review-text { color:#333333; margin:6px 0 0; font-size:16px; line-height:1.6; }

  .vbest-list-actions { text-align:center; margin-top:12px; }
  .vbest-see-btn { padding:9px 16px; background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--text); border-radius:8px; cursor:pointer; }
  .vbest-see-btn:hover { background:rgba(0,0,0,0.02); }

  /* Floating review form - light card */
  .vbest-review-form-container {
    position:fixed; display:none; z-index:4000; left:50%; transform:translateX(-50%); bottom:22px; width:520px; max-width:96%;
    background:#fff; border:1px solid var(--card-border); padding:16px; border-radius:10px; box-shadow:0 12px 30px rgba(0,0,0,0.08);
    color:var(--text); box-sizing:border-box;
  }
  .vbest-review-form-container.fullpage {
    left:0;
    top:0;
    bottom:0;
    right:0;
    width:100%;
    height:100%;
    transform:none;
    padding:20px;
    border-radius:0;
    overflow-y:auto;
    display:none;
    background:#fff;
  }
  .vbest-form-row { margin-bottom:10px; text-align:left; }
  .vbest-form-row label { display:block; font-size:13px; color:var(--muted); margin-bottom:6px; }
  .vbest-form-row input[type="text"], .vbest-form-row select, .vbest-form-row textarea {
    width:100%; padding:10px 12px; border-radius:6px; border:1px solid var(--card-border); background:#fff; color:var(--text); font-size:15px; box-sizing:border-box;
  }
  .vbest-form-row textarea { resize:vertical; min-height:96px; }
  .vbest-form-actions { display:flex; gap:8px; justify-content:flex-end; align-items:center; margin-top:6px; }
  .vbest-submit-btn { background:var(--accent); border:0; color:#fff; padding:10px 14px; border-radius:6px; font-weight:700; cursor:pointer; }
  .vbest-cancel-btn { background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--text); padding:8px 10px; border-radius:6px; cursor:pointer; }
  .vbest-form-msg { margin-top:8px; font-size:14px; color:var(--muted); }

  /* Rating row (inline, single line) */
  .rating-row {
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:space-between;
    flex-wrap:nowrap;
    overflow-x:auto;
    padding-bottom:6px;
  }
  .rating-row label {
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    padding:8px 10px;
    border-radius:8px;
    white-space:nowrap;
    border:1px solid rgba(0,0,0,0.03);
    background: rgba(0,0,0,0.01);
    min-width:fit-content;
    color:var(--text);
  }
  .rating-row input[type="radio"] { display:none; }
  .rating-row span { font-weight:700; font-size:14px; color:var(--text); }
  .rating-row input:checked + span { outline: 2px solid var(--accent); background: rgba(255,153,0,0.06); border-radius:6px; padding:4px 6px; }

  /* Footer (light) */
  .shilpi-footer {
    background: #f3f3f3;
    color: var(--text);
    padding: 40px 20px;
    font-family: Arial, sans-serif;
  }
  .shilpi-footer .about h2 { font-size:22px; font-weight:bold; margin-bottom:6px; color:var(--text); }
  .shilpi-footer .about .tagline { font-size:14px; font-weight:300; margin-bottom:10px; color:var(--muted); }
  .shilpi-footer .about-text { font-size:13px; max-width:600px; margin:0 auto 15px; line-height:1.6; color:var(--muted); }

  .social-icons { display:flex; gap:15px; justify-content:center; margin-top:10px; }
  .social-icons a { text-decoration:none; color:var(--brand-blue); font-weight:bold; font-size:16px; transition:0.3s; }
  .social-icons a:hover { color:var(--accent); }

  .footer-bottom { display:flex; flex-wrap:wrap; justify-content:space-between; text-align:left; gap:20px; }
  .footer-col { flex:1; min-width:200px; }
  .footer-col h3 { font-size:16px; margin-bottom:10px; color:var(--text); }
  .footer-col ul li { font-size:14px; margin:4px 0; color:var(--muted); }
  

  .accordion-btn { background:none; border:none; outline:none; font-size:14px; font-weight:bold; color:var(--accent); text-align:left; padding:6px 0; cursor:pointer; width:100%; }
  .accordion-content { display:none; font-size:13px; margin-bottom:10px; line-height:1.5; color:var(--muted); }

  @media (max-width: 768px) {
    .footer-bottom { display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap:12px; padding-left:12px; padding-right:12px; box-sizing:border-box; }
    .footer-bottom .footer-col { width:100%; max-width:420px; margin:8px auto; text-align:center; box-sizing:border-box; }
    .accordion-btn { text-align:center; display:block; width:100%; }
  }

  /* Small star UI tweaks */
  .vbest-star { font-size:32px; background:transparent; border:0; padding:8px 6px; border-radius:6px; color:rgba(0,0,0,0.26); cursor:pointer; line-height:1; user-select:none; }
  .vbest-star.filled { color:var(--star); text-shadow:0 1px 0 rgba(0,0,0,0.08); }
  .rating-row-star { display:flex; gap:6px; justify-content:center; align-items:center; }
  #vbest-star-label { font-size:15px; color:var(--muted); margin-top:8px; text-align:center; font-weight:700; }
  .vbest-review-form-container.fullpage { padding-top: env(safe-area-inset-top,20px); padding-left:12px; padding-right:12px; padding-bottom:20px; box-sizing:border-box; }
  .vbest-review-form-container.fullpage form { width:100%; max-width:720px; margin:0 auto; }
  @media (max-width:480px) {
    .vbest-star { font-size:28px; padding:10px 6px; }
    .vbest-review-form-container.fullpage { padding-top: env(safe-area-inset-top,14px); padding-left:10px; padding-right:10px; }
  }
  /* FIX homepage product text */
.fs-card h3 a{
  color:#000 !important;
  font-weight:400 !important;
  font-size:14px !important;
  text-decoration:none !important;
}

.fs-card p{
  color:#333 !important;
  font-weight:400 !important;
  font-size:13px !important;
}

  /* keep layout the same, keep animation */

</style>


<style>
  /* Theme variable overrides ‚Äî dining-style themes */
  body[data-theme="classic"]{
    --bg:#ffffff; --panel:#f9f9f9; --card-border:#e9e9e9; --muted:#565959;
    --accent:#ff9900; --accent-2:#e68a00; --brand-blue:#146eb4; --text:#111111; --star:#ffd54a;



  /* Trusted line under header video */

  /* Review truncation + view toggle */
  .vbest-review-text { position:relative; }
  .vbest-review-preview { display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .vbest-review-full { display:none; }
  .vbest-review .view-full { display:inline-block; margin-top:8px; background:none; border:0; color:var(--brand-blue); font-weight:700; cursor:pointer; padding:0; }

.social-icons {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;        /* keep in one row */
  white-space: nowrap;
  overflow-x: auto;        /* small horizontal scroll on tiny screens */
  -webkit-overflow-scrolling: touch;
}

/* reduce anchor padding and make text smaller so everything fits */
.social-icons a {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 6px;
  font-weight:700;
  font-size: 13px;         /* slightly smaller label text */
  text-decoration: none;
  color: inherit;
}

/* shrink icons (font-awesome) */
.social-icons a i {
  font-size: 18px;         /* icon size */
  line-height: 1;
  width: 20px;
  text-align: center;
  display: inline-block;
}

/* brand colors (override earlier coloring) */
.social-icons a .fa-whatsapp { color: #25D366; }
.social-icons a .fa-facebook { color: #1877F2; }
.social-icons a .fa-youtube  { color: #FF0000; }
.social-icons a .fa-twitter  { color: #1DA1F2; }
.social-icons a .fa-instagram{ color: #E1306C; }
.social-icons a .fa-tiktok   { color: #010101; }

/* On very small narrow screens allow wrapping instead of clipping */
@media (max-width:420px) {
  .social-icons { flex-wrap: wrap; gap:6px; padding:4px 6px; }
  .social-icons a { font-size: 12px; padding:4px 6px; }
  .social-icons a i { font-size:16px; width:18px; }
}
</style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FurnitureStore",
  "name": "Vbest Luxury Interiors",
  "url": "https://vbest-site.vercel.app/",
  "telephone": "+2347080535579",
  "priceRange": "$$",
  "image": "https://i.postimg.cc/yNXsb9Q8/IMG-20250822-WA0058.jpg",
  "description": "Premium sofas, beds, dining & office furniture in Lagos. Fast delivery & custom designs.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "156 Olojo Drive, Ojo Alaba International Market",
    "addressLocality": "Lagos",
    "addressCountry": "NG"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 6.4531,
    "longitude": 3.3958
  },
  "openingHours": "Mo-Su 08:00-21:00",
  "sameAs": [
    "https://twitter.com/shilpiluxe",
    "https://instagram.com/shilpiluxe",
    "https://tiktok.com/@shilpiluxe"
  ]
}
</script>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NP94R6352Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-NP94R6352Q');
</script>
<!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('D3FQ2UBC77U2R2QSQ1HG');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "V-Best Luxury Interiors",
  "url": "https://vbest-site.vercel.app/",
  "logo": "https://vbest-site.vercel.app/blog/logo.jpg",
  "sameAs": [
    "https://www.instagram.com/vbest_luxury_interiors?igsh=MWFxcmN4eTd6dndnNQ==",
    "https://x.com/V_Best_?t=OYXpZ6gww4RebrF4oJgWYw&s=09",
    "https://www.facebook.com/share/179pLbZtXk/",
    "https://www.tiktok.com/@vbestluxuryinterior?_t=ZS-90f109MDGZ2&_r=1",
    "https://youtube.com/@best-tm7bm?si=PGsKnKWxqbG0cmRt"
  ]
}
</script>
<!-- Facebook Pixel Code --><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'); fbq('init', '677322691667443'); fbq('track', 'PageView');</script><noscript> <img height="1" width="1" src="https://www.facebook.com/tr?id=677322691667443&ev=PageView&noscript=1"/></noscript><!-- End Facebook Pixel Code -->
</head>
<body><!-- Permanent cart + name bar above top category, no gap -->
<div class="top-cart-bar" style="
  position: fixed; 
  top: 0; 
  left: 0; 
  width: 100%; 
  background: #222; /* little dark color */
  z-index: 9999; 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  padding: 10px 20px; 
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  font-family: 'Poppins', sans-serif;
">
  <!-- Your name styled professionally -->
  <span style="
    font-weight: 700; 
    font-size: 1.2rem; 
    text-transform: uppercase; 
    letter-spacing: 0.5px; 
    background: linear-gradient(to right, #FFD700, #FF9900); 
    -webkit-background-clip: text; 
    -webkit-text-fill-color: transparent; 
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3); 
    white-space: nowrap;
  ">
    V-Best Luxury Interior
  </span>

  <!-- Cart -->
  <a href="cart.html" id="nav-cart" aria-label="Cart" style="
    color: #fff; 
    text-decoration: none; 
    display: inline-flex; 
    align-items: center; 
    gap: 4px; 
    font-weight: bold;
    white-space: nowrap;
  ">
    üõí Cart 
    <span id="cart-count" class="cart-badge" style="
      background: #FF3300; 
      color: #fff; 
      border-radius: 50%; 
      padding: 2px 6px; 
      font-size: 0.8rem; 
      display: none;
    ">0</span>
  </a>
</div>

<script>
  // Cart badge logic (localStorage 'cart' array)
  (function(){
    function updateCartCount(){
      try{
        const el = document.getElementById('cart-count');
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');
        if(cart && cart.length > 0){
          el.style.display = 'inline-block';
          el.textContent = cart.length;
        } else {
          el.style.display = 'none';
        }
      } catch(e){ }
    }
    updateCartCount();
    window.addEventListener('storage', (e) => { if(e.key === 'cart') updateCartCount(); });
  })();
</script>

<style>
body{
  padding-top:40px;
  margin:0;
}

.top-category-banner{
  margin-top:0;
}

.top-category-menu{
  display:flex;
  align-items:center;
  gap:14px;
  background:#fff;
  padding:8px 10px;
}

.menu-item{
  text-decoration:none;
  color:#000;
  font-size:14px;
  display:flex;
  align-items:center;
  gap:6px;
}

.menu-dropdown{
  position:relative;
  margin-left:auto;
}

.menu-button{
  background:none;
  border:none;
  font-size:14px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
}

.dropdown-content{
  display:none;
  position:absolute;
  right:0;
  top:100%;
  background:#fff;
  min-width:190px;
  border:1px solid #ddd;
  z-index:999999;
}

.dropdown-content a{
  display:block;
  padding:10px;
  color:#000;
  text-decoration:none;
}

.dropdown-content a:hover{
  background:#f2f2f2;
}

.dropdown-content.show{
  display:block;
}
</style>

<div class="top-category-banner">
  <div class="top-category-menu">

    <a href="all.html" class="menu-item">
      <i class="fa-solid fa-couch"></i>
      <span>Home Furniture</span>
    </a>

    <a href="light.html" class="menu-item">
      <i class="fa-solid fa-lightbulb"></i>
      <span>Lighting</span>
    </a>

    <a href="outdoor.html" class="menu-item">
      <i class="fa-solid fa-tree"></i>
      <span>Outdoor</span>
    </a>

    <a href="office.html" class="menu-item">
      <i class="fa-solid fa-briefcase"></i>
      <span>Office Furniture</span>
    </a>

    <!-- Right-end Menu -->
    <div class="menu-dropdown">
      <button class="menu-button" id="menuToggle" type="button">
        <i class="fa-solid fa-bars"></i>
        <span>Menu</span>
      </button>

      <div class="dropdown-content" id="menuContent">
        <a href="sofa.html">Sofas</a>
        <a href="bed.html">Beds</a>
        <a href="dining.html">Dining</a>
        <a href="centertable.html">Center Tables</a>
        <a href="sidestool.html">Side Stool</a>
        <a href="chair.html">Chairs</a>
        <a href="office.html">Office Furniture</a>
        <a href="outdoor.html">Outdoor</a>
        <a href="game.html">Game</a>
        <a href="snooker.html">Snooker</a>
        <a href="winbar.html">Wine Bar</a>
        <a href="sideboard.html">Sideboard</a>
        <a href="console.html">Console</a>
        <a href="cabinet.html">Cabinet</a>
      </div>
    </div>

  </div>
</div>

<script>
(function(){
  const toggle = document.getElementById("menuToggle");
  const menu = document.getElementById("menuContent");

  toggle.addEventListener("click", function(e){
    e.stopPropagation();
    menu.classList.toggle("show");
  });

  document.addEventListener("click", function(){
    menu.classList.remove("show");
  });
})();
</script>

<!-- ===== Header Video ===== -->
<video autoplay muted loop playsinline preload="auto" poster="https://i.postimg.cc/5N0sgfBY/IMG-20250822-WA0005.jpg" class="header-video" style="width:100%; height:auto; object-fit:cover;">
  <source src="videos/White.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>
  </div>
</div>

<style>
/* ===== Top Category Banner ===== */
.top-category-banner {
  position: sticky;
  top: 0;
  z-index: 999;
  width: 100%;
  background: #ffffff;
  padding: 8px 0;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  border-radius: 8px;
  margin: 8px 0 12px;
}

/* ===== Left Menu Items ===== */
.top-category-menu {
  display: flex;
  justify-content: space-around; /* KEEP EXACT ORIGINAL SPACING */
  align-items: center;
  width: 95%;
}
.top-category-menu .menu-item {
  text-decoration: none;
  color: #0f1111;
  font-weight: 600;
  font-size: 12px;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.2s ease;
}
.top-category-menu .menu-item i {
  font-size: 18px;
  color: #146eb4;
  margin-bottom: 2px;
}
.top-category-menu .menu-item:hover {
  transform: scale(1.05);
}
.top-category-menu .menu-item:hover i,
.top-category-menu .menu-item:hover span {
  color: #ff9900;
}

/* ===== Menu Dropdown (Right-end) ===== */
.menu-dropdown {
  position: relative; /* relative for absolute dropdown */
}
.menu-button {
  background: #ffffff;
  border: none;
  cursor: pointer;
  font-weight: 600;
  font-size: 12px;
  color: #0f1111;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.2s ease;
}
.menu-button i {
  font-size: 18px;
  color: #146eb4;
  margin-bottom: 2px;
}

/* ===== FIXED DROPDOWN ===== */
.dropdown-content {
  display: none;
  position: absolute;  /* absolute to menu button */
  top: 100%;           /* directly below button */
  right: 0;            /* align right */
  transform: translateX(30px); /* move dropdown 20px to the right */
  background: #ffffff;
  min-width: 160px;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 10000;
  flex-direction: column;
  padding: 5px 0;
}
.dropdown-content a {
  padding: 10px 16px;
  text-decoration: none;
  color: #0f1111;
  font-size: 13px;
}
.dropdown-content a:hover {
  background-color: #f5f5f5;
  color: #ff9900;
}
.menu-dropdown.active .dropdown-content {
  display: flex;
}

/* ===== Header Video ===== */
.header-video-container {
  position: relative;
  width: 300px;
  height: 200px;
  overflow: hidden;
  border-radius: 8px;
  background-color: black;
  border: 1px solid #ccc;
}
.header-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* ===== Responsive ===== */
@media (max-width: 600px) {
  .top-category-menu .menu-item i { font-size: 16px; }
  .top-category-menu .menu-item span { font-size: 10px; }
  /* mobile dropdown stays under button, aligned right */
  .dropdown-content {
    left: auto;
    right: 0;
    width: 180px;
    border-radius: 6px;
  }
  .header-video-container {
    width: 100%;
    height: auto;
    max-height: 220px;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const menuBtn = document.querySelector('.menu-button');
  const menuDropdown = document.querySelector('.menu-dropdown');

  menuBtn.addEventListener('click', () => {
    menuDropdown.classList.toggle('active');
  });

  document.addEventListener('click', function(event) {
    if (!menuDropdown.contains(event.target)) {
      menuDropdown.classList.remove('active');
    }
  });
});
</script>
  
  
<!-- ===== Video Header Section with Shop Now Button ===== -->


  <!-- Shop Now Button Overlay -->
<style>
/* Search bar */
.search-bar {
    margin-top: 10px;      /* space from header */
    width: 100%;           /* full width */
    padding: 0 5px;       /* small side padding */
}

.search-bar input {
    width: 100%;
    height: 38px;          /* bigger height like Jumia */
    padding: 0 15px;
    border-radius: 8px;    /* slightly rounded */
    border: 1px solid #ccc;
    font-size: 17px;       /* bigger text */
    outline: none;
    background: #fff;
    color: var(--text);
}
.search-bar input::placeholder { 
    color:#9aa0a6; 
}

/* Highlights section - Fast Delivery */
/* ===== Professional Highlights (Amazon style) ===== */

.vbest-highrev {
  margin-top: 6px;
  padding: 0;
}

.vbest-highlights {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1160px;
  margin: 0 auto;
  background: #ffffff;
  padding: 10px 6px;
  border: 1px solid #e3e6e6;
  border-radius: 8px;
  box-shadow: none;
  gap: 8px;
}

.vbest-hi {
  flex: 1;
  text-align: center;
  padding: 6px 4px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.vbest-icon {
  font-size: 20px;
  color: #146eb4;          /* professional blue */
  margin-bottom: 4px;
}

.vbest-hi-text {
  font-weight: 600;
  font-size: 13px;
  color: #0f1111;          /* near-black text */
}
</style>
</div>
<section class="search-bar">
  <input type="text" id="searchInput" placeholder="üîé Search for what you want...">
</section>

<section id="searchResults"></section>

<!-- ===== Highlights + Reviews (placed directly under logo) ===== -->
    <div class="vbest-highrev" aria-label="Highlights and reviews">
      <!-- Highlights -->
      <div class="vbest-highlights" role="group" aria-label="Site highlights">
        <div class="vbest-hi">
          <div class="vbest-icon"><i class="fa-solid fa-certificate" aria-hidden="true"></i></div>
          <div class="vbest-hi-text">100% Authentic Products</div>
        </div>

        <div class="vbest-hi">
          <div class="vbest-icon"><i class="fa-solid fa-truck-fast" aria-hidden="true"></i></div>
          <div class="vbest-hi-text">Fast Nationwide Delivery</div>
        </div>

        <div class="vbest-hi">
          <div class="vbest-icon"><i class="fa-solid fa-headset" aria-hidden="true"></i></div>
          <div class="vbest-hi-text">Quick Customer Support</div>
        </div>
      </div>


  </header>
  



  <!-- ===== Categories (always 2 columns) ===== -->

<!-- ======= Featured (Top / New / Most) ‚Äî full ready block (paste after categories) ======= -->

<section id="featSection" aria-label="Featured products" style="padding:20px 12px;">
<style>
/* ================= FEATURED SECTION BASE ================= */
#featSection { max-width:1160px; margin:0 auto; }
#featSection .fs-block { margin-bottom:26px; }

/* ================= TITLE ================= */
#featSection .fs-title {
  display:inline-block;
  padding:8px 14px;
  border-radius:6px;
  background:#f3f3f3;
  font-weight:800;
  font-size:18px;
  color:#111;
  margin:0 0 6px;
}
#featSection .fs-title::after{ display:none; }

#featSection .fs-sub {
  color:#555;
  font-weight:600;
  font-size:13px;
  margin:0 0 12px;
  display:block;
}

/* ================= PRODUCT GRID ================= */
#featSection .fs-grid {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
@media(min-width:1024px){
  #featSection .fs-grid { grid-template-columns:repeat(3,1fr); }
}

/* ================= PRODUCT CARD ================= */
#featSection .fs-card {
  background:#fff;
  border-radius:8px;
  overflow:hidden;
  position:relative;
  border:1px solid #e5e5e5;
  box-shadow:0 2px 6px rgba(0,0,0,0.04);
  display:flex;
  flex-direction:column;
  min-height:320px;
}

#featSection .fs-thumb {
  width:100%;
  height:180px;
  overflow:hidden;
  cursor:pointer;
}
#featSection .fs-thumb img {
  width:100%;
  height:100%;
  object-fit:cover;
}

/* ================= BADGES ================= */
#featSection .fs-badge {
  position:absolute;
  left:10px;
  top:10px;
  z-index:10;
  padding:5px 8px;
  border-radius:4px;
  color:#fff;
  font-weight:700;
  font-size:12px;
}

#featSection .fs-orange { background:#FF9900; }
#featSection .fs-green  { background:#146EB4; }
#featSection .fs-blink  { animation:none; }

/* ================= CARD BODY ================= */
#featSection .fs-body {
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:6px;
  flex:1;
}

#featSection .fs-body h3 {
  margin:0;
  font-size:15px;
  font-weight:700;
  color:#111;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* ================= PRICING ================= */
#featSection .fs-price-row {
  display:flex;
  flex-direction:column;
  gap:3px;
}

#featSection .fs-old {
  text-decoration:line-through;
  color:#B12704;
  font-weight:700;
  font-size:13px;
}

#featSection .fs-price {
  color:#007600;
  font-weight:800;
  font-size:15px;
}

#featSection .fs-save {
  color:#000;
  font-weight:600;
  font-size:13px;
}

#featSection .fs-stars {
  color:#f0c14b;
  font-size:14px;
}

/* ================= BUTTONS (STACKED) ================= */
#featSection .fs-btns {
  margin-top:auto;
  display:flex;
  flex-direction:column;
  gap:6px;
}

#featSection .fs-btn {
  width:100%;
  padding:10px;
  border-radius:6px;
  font-weight:800;
  border:1px solid transparent;
  cursor:pointer;
  text-decoration:none;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ADD TO CART ‚Äì TOP (BLACK) */
#featSection .fs-add {
  background:#000;
  color:#fff;
}
#featSection .fs-add:hover { background:#222; }

/* INQUIRY ‚Äì BELOW (GREEN) */
#featSection .fs-inquiry {
  background:#25D366;
  color:#fff;
}
#featSection .fs-inquiry:hover { background:#1eb85c; }

/* ================= DETAILS OVERLAY ================= */
#featSection #featDetails {
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  background:rgba(0,0,0,0.85);
  z-index:99999;
  padding:18px;
  overflow:auto;
}

#featSection #featDetailsInner {
  width:100%;
  max-width:1100px;
  background:#fff;
  border-radius:8px;
  padding:18px;
  display:flex;
  gap:18px;
  flex-wrap:wrap;
}

#featSection #featClose {
  position:absolute;
  right:18px;
  top:12px;
  background:#fff;
  border:1px solid #ddd;
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
}

#featSection .feat-left {
  flex:1 1 420px;
  text-align:center;
}
#featSection .feat-left img {
  max-width:100%;
  max-height:60vh;
  object-fit:contain;
  border-radius:6px;
}

#featSection .feat-right {
  flex:1 1 360px;
}
#featSection .feat-right h2 {
  margin:0 0 8px;
  font-size:22px;
}
#featSection .feat-desc {
  margin-top:12px;
  line-height:1.6;
  color:#333;
}

/* ================= SEE ALL / SHOP NOW ================= */
#featSection .see-all,
#featSection .shop-now {
  text-align:center;
  margin-top:10px;
  background:#25D366; /* green like Inquiry */
  color:#fff;
  border:none;
  padding:10px 18px;
  border-radius:6px;
  font-weight:700;
  cursor:pointer;
  text-decoration:none;
  display:inline-block;
}
#featSection .see-all:hover,
#featSection .shop-now:hover {
  background:#1eb85c;
}

/* ================= CATEGORY GRID ================= */
#featSection .categories {
  margin:20px auto;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:8px;
  max-width:900px;
}

#featSection .category-box {
  position:relative;
  background:#fff;
  border-radius:6px;
  padding:5px;
  border:1px solid #e5e5e5;
}

#featSection .category-box img {
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:6px;
}

#featSection .cat-label {
  display:block;
  padding:6px;
  font-weight:700;
  color:#111;
  margin-top:6px;
  background:#f3f3f3;
  border-radius:4px;
  font-size:13px;
}

#featSection .discount-badge {
  position:absolute;
  top:10px;
  left:10px;
  background:#FF9900;
  color:#fff;
  padding:5px 8px;
  font-size:12px;
  font-weight:700;
  border-radius:4px;
}

@media(max-width:480px){
  #featSection .category-box img { height:150px; }
}
/* CLAMP REVIEW TEXT (SHOW SEE-ALL AGAIN) */
.vbest-review-text {
  display: -webkit-box;
  -webkit-line-clamp: 2;      /* show only 2 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
}
/* RESTORE BRAND COLORS FOR SOCIAL ICONS */
.social-icons .fa-whatsapp { color: #25D366; }
.social-icons .fa-facebook { color: #1877F2; }
.social-icons .fa-youtube  { color: #FF0000; }
.social-icons a:nth-child(4) { color: #000000; } /* X / Twitter */
.social-icons a:nth-child(5) { color: #E1306C; } /* Instagram */
.social-icons a:nth-child(6) { color: #000000; } /* TikTok */
/* FIX SOCIAL ICONS */
.social-icons {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}

.social-icons a {
  display: inline-flex !important;
  align-items: center;
  gap: 6px;
  width: auto !important;
  color: inherit !important;   /* restore original color */
  font-weight: 600;
}
#featSection .fs-save,
#featSection .fs-timer { 
  display: none !important; 
}
/* ===== FIX MOST VIEWED PRODUCT POPUP ===== */

/* hidden by default */
#featDetails {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 10000;
}

/* when JS opens it */
#featDetails.active {
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
}

/* popup box */
#featDetailsInner {
  background: #ffffff;
  max-width: 920px;
  width: 95%;
  max-height: 90vh;
  overflow-y: auto;
  border-radius: 10px;
  position: relative;
  pointer-events: auto;
}

/* close button */
#featClose {
  position: absolute;
  top: 10px;
  right: 10px;
  background: transparent;
  border: none;
  font-size: 22px;
  cursor: pointer;
}
/* ===== MOST VIEWED POPUP ‚Äì FULL FINAL FIX ===== */

/* BUTTON BASE (BOTH INQUIRY & ADD TO CART) */
#featDetailsInner .fs-btn {
  display: flex !important;
  align-items: center;
  justify-content: center;
  width: 100% !important;
  height: 44px;
  padding: 0;
  font-size: 14px;
  font-weight: 700;
  border-radius: 6px;
  text-decoration: none !important;
  box-sizing: border-box;
}

/* INQUIRY ‚Äî GREEN (ON TOP) */
#featDetailsInner .fs-inquiry {
  background: #25d366 !important;
  color: #ffffff !important;
  border: none;
  margin-bottom: 8px;
  order: 1;
}

/* ADD TO CART ‚Äî BLACK (BELOW) */
#featDetailsInner .fs-add {
  background: #000000 !important;
  color: #ffffff !important;
  border: none;
  order: 2;
}

/* FORCE STACKING */
#featDetailsInner .fs-inquiry,
#featDetailsInner .fs-add {
  float: none !important;
}

/* ===== PRICE & DISCOUNT ===== */

/* NEW PRICE ‚Äî BLACK */
#featDetailsInner .price,
#featDetailsInner .feat-price {
  color: #000000 !important;
  font-size: 20px;
  font-weight: 800;
}

/* OLD PRICE ‚Äî RED & CROSSED */
#featDetailsInner .old-price,
#featDetailsInner .feat-old-price {
  color: #b12704 !important;
  text-decoration: line-through;
  font-size: 14px;
  margin-left: 6px;
}

/* DISCOUNT ‚Äî BLACK & VISIBLE */
#featDetailsInner .discount,
#featDetailsInner .feat-discount,
#featDetailsInner .discount-badge {
  display: inline-block !important;
  color: #000000 !important;
  font-weight: 700;
}

/* REMOVE OFFER END / COUNTDOWN COMPLETELY */
#featDetailsInner .countdown,
#featDetailsInner .feat-countdown,
#featDetailsInner .offer-end {
  display: none !important;
}
/* FORCE STRIKE ANY PRICE THAT IS NOT THE MAIN ONE */
#featDetailsInner del,
#featDetailsInner s {
  color: #b12704 !important;
  text-decoration: line-through !important;
}
/* PRICE STYLING */
#featDetailsInner .fs-old {
  color: #b12704;
  text-decoration: line-through;
  font-size: 14px;
  margin-right: 8px;
}

#featDetailsInner .fs-price {
  color: #000;
  font-size: 20px;
  font-weight: 800;
}

#featDetailsInner .fs-price-wrap {
  margin: 10px 0;
}
</style>

  <!-- Most Viewed -->
  <div class="fs-block">
  
  
  <section class="categories" id="categoryList" aria-label="Product categories">
    <div class="category-box"
       data-href="game.html"
       data-video="https://cdn.pixabay.com/video/2020/10/06/16/01/gaming-room-5637119_1280.mp4"
       data-poster="https://i.postimg.cc/GhBhTtX7/Magshion-Adjustable-Height-Gaming-Chair-with-Retractable-Footrest-and-Computer-Desk-Purple-2e356ae6.png"
       data-badge="34% OFF"
       aria-label="Gaming chairs category">
    <div class="discount-badge" aria-hidden="true">34% OFF</div>
    <img src="https://i.postimg.cc/GhBhTtX7/Magshion-Adjustable-Height-Gaming-Chair-with-Retractable-Footrest-and-Computer-Desk-Purple-2e356ae6.png"
         alt="Gaming chair and desk in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">üéÆ GAMING CHAIRS & TABLE</span>
    <a href="game.html" class="shop-now" aria-label="Shop Gaming Chairs">SHOP NOW</a>
  </div>
  <div class="category-box"
       data-href="office.html"
       data-video="https://cdn.pixabay.com/video/2021/07/28/05/45/office-6482338_1280.mp4"
       data-poster="https://i.postimg.cc/vBybRLq7/Workstation-348.png"
       data-badge="37% OFF"
       aria-label="Office furniture category">
    <div class="discount-badge" aria-hidden="true">37% OFF</div>
    <img src="https://i.postimg.cc/vBybRLq7/Workstation-348.png"
         alt="Office furniture and workstations in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">OFFICE FURNITURES ü™ëüñ•Ô∏è</span>
    <a href="office.html" class="shop-now" aria-label="Shop Office Furniture">SHOP NOW</a>
  </div>
  </section>
  
  
    <h3 class="fs-title">üëÄ Most Viewed</h3>
    <p class="fs-sub">Trending now ‚Äî items people are checking out</p>
    <div id="fsMostGrid" class="fs-grid" aria-live="polite"></div>
  </div>
  <div class="see-all">
    <button onclick="window.location.href='all.html'">view All</button>
  </div>
    <section class="categories" id="categoryList" aria-label="Product categories">
    <div class="category-box"
       data-href="outdoor.html"
       data-video="https://cdn.pixabay.com/video/2019/12/03/05/28/garden-4671578_1280.mp4"
       data-poster="https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg"
       data-badge="30% OFF"
       aria-label="Outdoor & patio category">
    <div class="discount-badge" aria-hidden="true">30% OFF</div>
    <img src="https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg"
         alt="Outdoor and patio furniture in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">ü™ë OUTDOORS & PATIO</span>
    <a href="outdoor.html" class="shop-now" aria-label="Shop Outdoor Furniture">SHOP NOW</a>
  </div>
    <div class="category-box"
       data-href="snooker.html"
       data-video="videos/best4.mp4"
       data-poster="https://i.postimg.cc/7LbWQCnH/807531125-321-1024x1024.jpg"
       data-badge="31% OFF"
       aria-label="Snooker and pool category">
    <div class="discount-badge" aria-hidden="true">31% OFF</div>
    <img src="https://i.postimg.cc/7LbWQCnH/807531125-321-1024x1024.jpg"
         alt="Snooker and pool tables in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">SNOOKERS & POOL üé±</span>
    <a href="snooker.html" class="shop-now" aria-label="Shop Snooker & Pool">SHOP NOW</a>
  </div>
    </section>

  <!-- Top Selling -->
  <div class="fs-block">
    <h3 class="fs-title">üî• Top Selling Items</h3>
    <p class="fs-sub">Customers' favourites ‚Äî high demand items</p>
    <div id="fsTopGrid" class="fs-grid" aria-live="polite"></div>
  </div>
  <div class="see-all">
    <button onclick="window.location.href='all.html'">view All</button>
  </div>

  <!-- New Products -->
  <div class="fs-block">
    <h3 class="fs-title">üÜï New Products</h3>
    <p class="fs-sub">Fresh arrivals ‚Äî check what's just added</p>
    <div id="fsNewGrid" class="fs-grid" aria-live="polite"></div>
  </div>
  <div class="see-all">
    <button onclick="window.location.href='all.html'">view All</button>
  </div>

  <div id="fsMsg" style="text-align:center;color:var(--muted,#666);font-size:14px;"></div>
</section>

<!-- Details overlay for featured (self-contained) -->
<div id="featDetails" role="dialog" aria-hidden="true">
  <div id="featDetailsInner" role="document">
    <button id="featClose">‚úï</button>
    <div class="feat-left" id="featLeft"></div>
    <div class="feat-right" id="featRight"></div>
  </div>
</div>

<script>
(async function(){
  const sheetUrl = "https://opensheet.elk.sh/1FA4s21Je3ebeFXUXGu_xvqdo4gbM1v9Q9jOHt6LAH6Y/Sheet1";
  const limit = 40;

  function normKey(k){ return String(k||'').toLowerCase().replace(/[^a-z0-9]/g,''); }
  function findField(item, candidates){
    if(!item) return '';
    const map = {};
    for(const k in item){ if(!k) continue; map[normKey(k)] = item[k]; }
    for(const c of candidates){ const key = normKey(c); if(map.hasOwnProperty(key)) return map[key]; }
    for(const key in map){ for(const c of candidates){ const ck = normKey(c); if(key.includes(ck) || ck.includes(key)) return map[key]; } }
    const synonyms = ['price','amount','sellingprice','cost','discount','discountprice','image','imagelink','views','tag','category','productname','product'];
    for(const s of synonyms) if(map.hasOwnProperty(s)) return map[s];
    return '';
  }
  function parseNumberFlexible(s){ 
    if(s===undefined||s===null) return NaN;
    let t=String(s).trim();
    if(t==='') return NaN;
    t=t.replace(/[‚Ç¶$‚Ç¨¬£]/g,'').replace(/\s+/g,'').replace(/k$/i,'000').replace(/[^0-9.\-]/g,'');
    const n=parseFloat(t); return isNaN(n)?NaN:n;
  }
  function escHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
  function escJs(s){ return String(s||'').replace(/\\/g,'\\\\').replace(/'/g,"\\'").replace(/"/g,'\\"'); }
  function safe(u){ return u && String(u).trim() ? String(u).trim() : 'https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg'; }

  function getRandomBaseViews(){ return Math.floor(Math.random()*400)+100; } // start realistic 100‚Äì500

  try {
    const res = await fetch(sheetUrl);
    if(!res.ok) throw new Error('sheet fetch failed ' + res.status);
    const data = await res.json();
    if(!Array.isArray(data) || !data.length){ document.getElementById('fsMsg').textContent='check again in 2 sec.'; return; }

    // Add original row index for each product
    data.forEach((p, i)=> p.__row = i);

    const useData = data.filter(item => {
      const tagValue = String(findField(item, ['Tag', 'tag']) || '').toLowerCase();
      return tagValue.includes('top') || tagValue.includes('new') || tagValue.includes('most');
    });
    function tagTokens(item){
      const raw = String(findField(item, ['Tag','tag','Category','category']) || item.Tag || item.tag || '').toLowerCase();
      if(!raw) return [];
      return raw.split(/[\s,;|]+/).map(s=>s.trim()).filter(Boolean);
    }

    const top = useData.filter(i=> tagTokens(i).includes('top')).slice(0,limit);
    const newList = (function(){
      const hasDate = Object.keys(useData[0] || {}).some(k=> normKey(k) === 'dateadded' || normKey(k) === 'date');
      if(hasDate){
        return useData.map(it=> Object.assign({__date: (findField(it,['DateAdded','Date Added','dateadded','date','added'])||'')}, it))
                      .filter(x=> x.__date )
                      .sort((a,b)=> new Date(b.__date) - new Date(a.__date))
                      .slice(0,limit);
      } else return useData.filter(i=> tagTokens(i).includes('new')).slice(0,limit);
    })();
    const most = useData.filter(i=> tagTokens(i).includes('most'))
                        .slice().map(it=> Object.assign({__views: parseInt(String(findField(it,['Views','views','viewscount'])||it.Views||'0').replace(/\D/g,''),10)||getRandomBaseViews()}, it))
                        .sort((a,b)=> b.__views - a.__views)
                        .slice(0,limit);

    const topGrid = document.getElementById('fsTopGrid'),
          newGrid = document.getElementById('fsNewGrid'),
          mostGrid = document.getElementById('fsMostGrid');
    window.fsProducts = []; let gIdx=0;

    function makeCard(p, idx, tag){
      const name = findField(p, ['ProductName','Product Name','product','name','title']) || 'Unnamed';
      const priceTxt = findField(p, ['DiscountPrice','Discount Price','discount','Sale Price','saleprice','specialprice','PriceNow','NowPrice']) || '';
      const oldTxt = findField(p, ['Price','price','Amount','amount','Selling Price','SellingPrice','Cost']) || '';
      const priceStr = String(priceTxt || oldTxt || '').trim();
      const oldStr = String(oldTxt || '').trim();
      const img = safe(findField(p, ['ImageLink','Image','imageurl','images','photo','photos']));
      const hasDiscount = String(priceTxt||'').trim() !== '' && String(oldTxt||'').trim() !== '';
      const priceNum = parseNumberFlexible(priceStr), oldNum = parseNumberFlexible(oldStr);
      let saveHtml = '';
      if(!isNaN(oldNum)&&!isNaN(priceNum)&&oldNum>priceNum) saveHtml=`<div class="fs-save">Save ‚Ç¶${(oldNum-priceNum).toLocaleString()}</div>`;
      else if((oldStr||priceStr)&&hasDiscount) saveHtml=`<div class="fs-save">Save: ‚Äî</div>`;
      const viewsVal = p.__views || getRandomBaseViews();
      const stars = '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ';
      const wa = (findField(p,['WhatsApp','WhatsApp Link','whatsapp']) || 'https://wa.me/2347080535579');
      const badgeClass = tag==='top'?'fs-orange':(tag==='new'?'fs-green':'fs-orange');
      const badgeText = tag==='top'?'BESTSELLER':(tag==='new'?'NEW':'TRENDING');
      const priceHtml = `${ hasDiscount ? `<div class="fs-old">${escHtml(oldStr)}</div>` : '' }<div class="fs-price">${escHtml(priceStr || oldStr)}</div>${saveHtml?saveHtml:''}`;

      return `
        <div class="fs-card" data-idx="${idx}">
          <div class="fs-badge ${badgeClass} fs-blink">${badgeText}</div>
          <span class="fs-thumb">
            <a href="product.html?row=${p.__row}">
              <img src="${escHtml(img)}" alt="${escHtml(name)}" loading="lazy">
            </a>
          </span>
          <h3><a href="product.html?row=${p.__row}">${escHtml(name)}</a></h3>
          <div class="fs-price-row">${priceHtml}</div>
          <div class="fs-timer" id="fs-timer-${idx}" data-idx="${idx}"></div>
          <div class="fs-stars">${escHtml(stars)}</div>
          <div class="fs-btns" style="display:flex;gap:6px;">
            <button class="fs-btn fs-add" style="flex:1" onclick="fsAddToCart('${escJs(name)}','${escJs(priceStr||oldStr)}','${escJs(img)}');event.stopPropagation();">üõí Add to Cart</button>
            <a class="fs-btn fs-inquiry" style="flex:1;text-align:center;" href="${(String(wa).startsWith('http')?wa:wa+'?text='+encodeURIComponent('Hello, I am interested in '+name))}" target="_blank" rel="noopener">üì© Inquiry</a>
          </div>
        </div>
      `;
    }

    function appendList(list, grid, tag){
      const out=[];
      for(const it of list){
        const idx = gIdx++;
        window.fsProducts[idx] = it;
        out.push(makeCard(it, idx, tag));
      }
      grid.innerHTML = out.length?out.join(''):`<div style="grid-column:1/-1;padding:12px;color:var(--muted,#666);border-radius:8px;background:var(--card,#fff)">No ${tag} items</div>`;
    }

    appendList(most, mostGrid, 'most');
    appendList(top, topGrid, 'top');
    appendList(newList, newGrid, 'new');

  } catch(err){
    console.error('feat error',err);
    try{ document.getElementById('fsMsg').textContent='Error loading featured products.'; }catch(e){}
  }

  // Cart update
  window.fsAddToCart = function(name, price, image){
    try {
      if(!image||String(image).trim()===''){ alert('Item image missing'); return; }
      const cart = JSON.parse(localStorage.getItem('cart')||'[]');
      cart.push({name, price, image, qty:1});
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartBadges(cart.length);
    } catch(e){ console.error(e); }
  };
  function updateCartBadges(count){
    const el = document.getElementById('cart-count');
    if(el){ el.style.display='inline-block'; el.textContent=count; }
  }
  updateCartBadges(JSON.parse(localStorage.getItem('cart')||'[]').length);

})();
</script>


<!-- ======= end featured block ======= --><!-- ===== Footer (merged, very black) ===== -->
  <footer class="shilpi-footer">
    <div class="shilpi-container" style="max-width:1150px;margin:0 auto;">
      <div class="footer-extra">
        <p>üí´ Your dream home starts here with V‚ÄôBest Luxury Interiors.</p>
      </div>

      <div class="about" style="margin-top:18px;">
            <!-- Reviews: summary + visible reviews + see more + write button -->
      <div class="vbest-reviews" aria-label="Customer reviews">
        <div class="vbest-summary" role="region" aria-live="polite">
          <div class="vbest-score">
            <div class="vbest-score-number" id="vbest-score-number">4.89</div>
            <div class="vbest-stars" aria-hidden="true">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="vbest-count" id="vbest-count">9 reviews</div>
          </div>

          <div class="vbest-bars" aria-hidden="true">
            <div class="vbest-bar-row"><span class="vbest-bar-label">5</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-5" style="width:89%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-5">(8)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">4</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-4" style="width:11%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-4">(1)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">3</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-3" style="width:0%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-3">(0)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">2</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-2" style="width:0%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-2">(0)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">1</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-1" style="width:0%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-1">(0)</span>
            </div>
          </div>

          <button class="vbest-write-btn" id="vbestWriteReview" type="button">Write a Review</button>
        </div>

        <div class="vbest-list" aria-live="polite">
          <!-- Default placeholder reviews (shown if DB empty or fewer than needed) -->
          <article class="vbest-review" id="vbest-default-review-1">
            <div class="vbest-avatar">E</div>
            <div class="vbest-review-body">
              <div class="vbest-review-meta">
                <strong>mrs blessing</strong>
                <span class="vbest-verified" title="Verified buyer">‚úîÔ∏è</span>
                <small class="vbest-date">2025-06-12</small>
                <div class="vbest-review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
              <p class="vbest-review-text">V‚ÄôBest Luxury Interiors delivers nothing but the best! Their products are top quality, negotiable, and I was amazed by how fast my order arrived. Highly recommend!</p>
            </div>
          </article>

          <article class="vbest-review" id="vbest-default-review-2">
            <div class="vbest-avatar">J</div>
            <div class="vbest-review-body">
              <div class="vbest-review-meta">
                <strong>John idow</strong>
                <span class="vbest-date">2025-01-08</span>
                <div class="vbest-review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
              <p class="vbest-review-text">Beautiful finish and prompt delivery. The sofa fits perfectly in my living room.</p>
            </div>
          </article>

          <div id="vbest-approved-visible"></div>
          <div id="vbest-approved-hidden" style="display:none;"></div>

          <div class="vbest-list-actions">
            <button id="vbestSeeMore" class="vbest-see-btn" type="button" style="display:none;">See More Reviews</button>
          </div>
        </div>
      </div>
    </div>
    
      
       <p class="tagline">We're the best</p>
        <p class="about-text">Designed to elevate your home, our premium pieces combine comfort, durability, and style that speaks volumes.</p>

        <div class="social-icons" aria-label="social">
          <!-- Added WhatsApp, Facebook, YouTube (brand colored icons) -->
          <a href="https://wa.me/2347080535579" target="_blank" rel="noopener noreferrer" title="WhatsApp"><i class="fab fa-whatsapp"></i> WhatsApp</a>
          <a href="https://www.facebook.com/share/179pLbZtXk/" target="_blank" rel="noopener noreferrer" title="Facebook"><i class="fab fa-facebook"></i> Facebook</a>
          <a href="https://youtube.com/@best-tm7bm?si=w23wMA5R7ii3gmfM" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube"></i> YouTube</a>
          <a href="https://x.com/V_Best_?s=09" target="_blank" rel="noopener noreferrer">ùïè Twitter</a>
          <a href="https://www.instagram.com/vbest_luxury_interiors?igsh=MWFxcmN4eTd6dndnNQ==" target="_blank" rel="noopener noreferrer">üì∏ Instagram</a>
          <a href="https://www.tiktok.com/@vbestluxuryinterior?_t=ZS-90f23kWVIJh&_r=1" target="_blank" rel="noopener noreferrer">üéµ TikTok</a>
        </div>
      </div>

      <div class="footer-bottom" style="margin-top:18px;">
        <div class="footer-col">
          <h3>Categories</h3>
          <ul>
            <li>Living Room</li><li>Bedroom</li><li>Dining Room</li><li>Home Office</li><li>Kids & Baby</li><li>Outdoor & Patio</li><li>Storage & Organization</li><li>Accent & Decor</li>
        
        
<p><p> bedroom door</p>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Quick Links</h3>
          <div class="accordion">
            <button class="accordion-btn">About Us</button>
            <div class="accordion-content"><p>We bring world-class premium items to elevate your lifestyle with modern and timeless designs.</p></div>

            <button class="accordion-btn">Privacy Policy</button>
            <div class="accordion-content"><p>Your privacy is our priority. We never share customer data with third parties.</p></div>

            <button class="accordion-btn">Terms & Conditions</button>
            <div class="accordion-content"><p>All purchases are subject to our company‚Äôs standard terms and conditions.</p></div>

            <button class="accordion-btn">FAQ</button>
            <div class="accordion-content"><p>Find answers to the most common questions about delivery, warranty, and payments.</p></div>

            <button class="accordion-btn" data-action="backtotop">Back to Top</button>
            <div class="accordion-content"><p><a href="#" class="shilpi-top-link">Go to top</a></p></div>
          </div>
        </div>

        <div class="footer-col">
          <h3>Customer Service</h3>
          <p>üìû 2347080535579</p>
          <p>‚úâÔ∏è <a href="mailto:best28763@gmail.com">contactus@vbest.com</a></p>
          <p>üìç 
          <strong> visit our showroom:</strong>156 Olojo Drive, Ojo Alaba International Market, Lagos</p>
          <p>üïë 24/7 Support</p>
          <section style="text-align:center;padding:30px 15px;background:#fff;">
  <h2 style="font-size:20px;font-weight:700;color:#111;margin-bottom:10px;">
    V-Best Luxury Interiors
  </h2>
  <p style="color:#444;font-size:15px;margin-bottom:15px;">
    Learn more about how to choose the best luxury furniture for your home and lifestyle:
  </p>
  <div style="display:flex;flex-direction:column;gap:8px;">
    <a href="blog/bed-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Beds</a>
    <a href="blog/chair-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Chairs</a>
    <a href="blog/sofa-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Sofas</a>
    <a href="blog/dining-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Dining</a>
    <a href="blog/table-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Tables</a>
        <a href="blog/office-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">office furniture</a>
              <a href="blog/outdoor-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Outdoors</a>  
  </div>
</section>
          <iframe
  src="https://www.google.com/maps/embed?pb=!1m0!3m2!1sen!2sng!4v0!cid=7368111619021559737"
  width="100%" height="180"
  style="border:0; border-radius:10px; margin-top:8px; margin-bottom:0;"
  allowfullscreen
  loading="lazy"
  title="V-Best Luxury Interiors on Google Maps">
</iframe>
        </div>
      </div>
    </div>
    </div>
    
  </footer>
  <!-- ================= Original search script (kept behavior) ================= -->


  <script type="module">
    import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAF_Fy32TmyNOAYebcRCcOLhgcKn82Xavs",
      authDomain: "v-best-luxury-interiors.firebaseapp.com",
      databaseURL: "https://v-best-luxury-interiors-default-rtdb.firebaseio.com",
      projectId: "v-best-luxury-interiors",
      storageBucket: "v-best-luxury-interiors.firebasestorage.app",
      messagingSenderId: "331900870737",
      appId: "1:331900870737:web:c100c6a2987345eb955870",
      measurementId: "G-NP94R6352Q"
    };

    // Initialize Firebase safely
    let app;
    if (!getApps().length) app = initializeApp(firebaseConfig);
    else app = getApp();
    const db = getDatabase(app);

    // DOM refs
    const writeBtn = document.getElementById('vbestWriteReview');
    const approvedVisible = document.getElementById('vbest-approved-visible');
    const approvedHidden = document.getElementById('vbest-approved-hidden');
    const defaultRev1 = document.getElementById('vbest-default-review-1');
    const defaultRev2 = document.getElementById('vbest-default-review-2');
    const seeMoreBtn = document.getElementById('vbestSeeMore');


    const formContainer = (function(){
      const cont = document.createElement('div');
      cont.id = 'vbest-review-form-container';
      cont.className = 'vbest-review-form-container fullpage';
      cont.setAttribute('role','dialog');
      cont.setAttribute('aria-hidden','true');
      cont.innerHTML = `
        <form id="vbest-review-form" class="vbest-review-form" autocomplete="off" aria-label="Submit a review">
          <h2 style="margin-top:0; margin-bottom:10px; text-align:left;">Write a Review</h2>

          <div class="vbest-form-row">
            <label for="vbest-name">Name</label>
            <input id="vbest-name" name="name" type="text" placeholder="Your name" required />
          </div>

          <fieldset class="vbest-form-row" style="border:none;padding:0;margin:0;">
            <legend style="display:block;margin-bottom:6px;color:#b8dfe6;font-size:13px;">Rating</legend>

            <!-- Play-store style horizontal star row (replaces radio buttons). Hidden input 'rating' ensures existing submit code works. -->
            <div id="vbest-rating-wrap" role="radiogroup" aria-label="Rating" class="rating-row" style="justify-content:center;">
              <div class="rating-row-star" style="gap:6px;">
                <button type="button" class="vbest-star" data-value="1" aria-label="1 star" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="2" aria-label="2 stars" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="3" aria-label="3 stars" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="4" aria-label="4 stars" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="5" aria-label="5 stars" role="radio" aria-checked="false">‚òÖ</button>
              </div>
              <div id="vbest-star-label">Excellent</div>
            </div>

            <!-- Hidden input used by submit handler: form['rating'].value -->
            <input type="hidden" name="rating" id="vbest-hidden-rating" value="5" />
          </fieldset>

          <div class="vbest-form-row">
            <label for="vbest-comment">Your review</label>
            <textarea id="vbest-comment" name="comment" placeholder="Write your review..." rows="6" minlength="10" required></textarea>
          </div>

          <div class="vbest-form-actions">
            <button type="submit" class="vbest-submit-btn">Publish Review</button>
            <button type="button" id="vbest-cancel-form" class="vbest-cancel-btn">Cancel</button>
          </div>
          <div id="vbest-form-msg" class="vbest-form-msg" aria-live="polite"></div>
        </form>
      `;
      document.body.appendChild(cont);
      return cont;
    })();

    const form = document.getElementById('vbest-review-form');
    const cancelBtn = document.getElementById('vbest-cancel-form');
    const msgEl = document.getElementById('vbest-form-msg');

    // Utility escape
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]); }

    // Render one review block
    function createReviewElement(review) {
      const art = document.createElement('article');
      art.className = 'vbest-review';
      art.innerHTML = `
        <div class="vbest-avatar">${escapeHtml((review.name||'U').charAt(0).toUpperCase())}</div>
        <div class="vbest-review-body">
          <div class="vbest-review-meta">
            <strong>${escapeHtml(review.name || 'Anonymous')}</strong>
            <span class="vbest-verified" title="Verified">‚úîÔ∏è</span>
            <small class="vbest-date">${escapeHtml(review.date || '')}</small>
            <div class="vbest-review-stars">${'‚òÖ'.repeat(review.rating||5)}${'‚òÜ'.repeat(5-(review.rating||5))}</div>
          </div>
          <p class="vbest-review-text">${escapeHtml(review.comment || '')}</p>
        </div>
      `;
      return art;
    }

    // Update summary UI (score + bars)
    function updateSummaryUIFromApproved(arr){
      if (!arr || !arr.length) return; // keep defaults if none
      const totals = {1:0,2:0,3:0,4:0,5:0};
      let total = 0, weighted = 0;
      arr.forEach(r => { totals[r.rating] = (totals[r.rating]||0)+1; total++; weighted += (r.rating||0); });
      const avg = total ? (weighted / total) : 0;
      document.getElementById('vbest-score-number').textContent = (Math.round(avg * 100) / 100).toFixed(2);
      document.getElementById('vbest-count').textContent = `${total} review${total!==1 ? 's':''}`;
      const pct = s => total ? Math.round((s/total)*100) : 0;
      document.getElementById('vbest-bar-5').style.width = pct(totals[5]) + '%';
      document.getElementById('vbest-bar-4').style.width = pct(totals[4]) + '%';
      document.getElementById('vbest-bar-3').style.width = pct(totals[3]) + '%';
      document.getElementById('vbest-bar-2').style.width = pct(totals[2]) + '%';
      document.getElementById('vbest-bar-1').style.width = pct(totals[1]) + '%';
      document.getElementById('vbest-num-5').textContent = `(${totals[5]})`;
      document.getElementById('vbest-num-4').textContent = `(${totals[4]})`;
      document.getElementById('vbest-num-3').textContent = `(${totals[3]})`;
      document.getElementById('vbest-num-2').textContent = `(${totals[2]})`;
      document.getElementById('vbest-num-1').textContent = `(${totals[1]})`;
    }

    // Helper: process review text blocks to show preview + toggle full text
    function processAllReviews() {
      const all = document.querySelectorAll('.vbest-review');
      all.forEach(node => {
        if (node.dataset.processed === '1') return;
        const p = node.querySelector('.vbest-review-text');
        if (!p) { node.dataset.processed = '1'; return; }
        const fullText = p.textContent.trim();
        if (!fullText) { node.dataset.processed = '1'; return; }
        // build preview: first sentence if possible, else 120 chars
        let preview = fullText;
        const idx = fullText.indexOf('. ');
        if (idx > -1 && idx < 220) preview = fullText.slice(0, idx+1);
        if (preview.length > 220) preview = preview.slice(0,120) + '‚Ä¶';
        // construct inner markup
        p.innerHTML = '';
        const spanPreview = document.createElement('span');
        spanPreview.className = 'vbest-review-preview';
        spanPreview.textContent = preview;
        const spanFull = document.createElement('span');
        spanFull.className = 'vbest-review-full';
        spanFull.textContent = fullText;
        p.appendChild(spanPreview);
        p.appendChild(spanFull);
        // add toggle button
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'view-full';
        btn.textContent = 'View Full Review';
        btn.addEventListener('click', function(){
          const showing = spanFull.style.display === 'inline';
          if (showing) {
            spanFull.style.display = 'none';
            spanPreview.style.display = 'block';
            btn.textContent = 'View Full Review';
          } else {
            spanFull.style.display = 'inline';
            spanPreview.style.display = 'none';
            btn.textContent = 'Show Less';
          }
        });
        // append button if not already appended
        const existing = node.querySelector('.view-full');
        if (!existing) node.querySelector('.vbest-review-body').appendChild(btn);
        node.dataset.processed = '1';
      });
    }

    // Listen to reviews and display approved reviews: 3 visible, rest hidden
    const reviewsRef = ref(db, 'reviews');
    onValue(reviewsRef, (snap) => {
      const val = snap.val();
      const approved = [];
      if (val) {
        Object.keys(val).forEach(k => {
          const r = val[k];
          if (r && (r.status === 'approved')) {
            const rating = parseInt(r.rating,10) || 5;
            approved.push({ id:k, name: r.name||'Anonymous', rating, comment: r.comment||'', date: r.date || r.createdAt || '' });
          }
        });
      }
      // sort by date (ISO) descending if available, else by id
      approved.sort((a,b) => (b.date || '').localeCompare(a.date || '') || (b.id||'').localeCompare(a.id||''));

      // clear containers
      approvedVisible.innerHTML = '';
      approvedHidden.innerHTML = '';
      // hide default placeholders initially
      if (defaultRev1) defaultRev1.style.display = 'none';
      if (defaultRev2) defaultRev2.style.display = 'none';

      if (approved.length === 0) {
        // show defaults
        if (defaultRev1) defaultRev1.style.display = '';
        if (defaultRev2) defaultRev2.style.display = '';
        seeMoreBtn.style.display = 'none';
        updateSummaryUIFromApproved([]);
        // ensure static defaults get the preview toggle
        processAllReviews();
        return;
      }

      // show first three (or fewer)
      const visible = approved.slice(0,3);
      const hidden = approved.slice(3);
      visible.forEach(r => {
        approvedVisible.appendChild(createReviewElement(r));
      });
      // hidden ones into hidden container
      hidden.forEach(r => {
        const el = createReviewElement(r);
        approvedHidden.appendChild(el);
      });

      // show/hide See More button
      if (hidden.length > 0) {
        seeMoreBtn.style.display = 'inline-block';
        approvedHidden.style.display = 'none';
      } else {
        seeMoreBtn.style.display = 'none';
        approvedHidden.style.display = 'none';
      }

      // process review preview toggles for newly added reviews
      processAllReviews();

      // update summary
      updateSummaryUIFromApproved(approved);
    });

    // toggle full-page form
    function toggleForm(show){
      if (!formContainer) return;
      if (typeof show === 'undefined') show = formContainer.style.display !== 'block';
      formContainer.style.display = show ? 'block' : 'none';
      formContainer.setAttribute('aria-hidden', show ? 'false' : 'true');
      if (show) {
        const nameInput = document.getElementById('vbest-name');
        if (nameInput) {
          nameInput.focus();
        }
        // ensure page scroll to top of form on small screens
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        // hide message on close
        if (msgEl) msgEl.textContent = '';
      }
    }

    // attach events
    if (writeBtn) writeBtn.addEventListener('click', (e)=>{ e.preventDefault(); toggleForm(true); });

    if (cancelBtn) cancelBtn.addEventListener('click', ()=>{ toggleForm(false); });

    // submit review -> push to DB with status 'approved' for auto-publish
    form.addEventListener('submit', async function(e){
      e.preventDefault();
      const name = form['name'].value.trim();
      const rating = parseInt(form['rating'].value,10) || 5;
      const comment = form['comment'].value.trim();
      if (!name || !comment || comment.length < 8) {
        msgEl.textContent = 'Please enter your name and at least 8 characters for your review.';
        return;
      }
      msgEl.textContent = 'Submitting...';
      try {
        const newRef = push(reviewsRef);
        const payload = {
          name,
          rating,
          comment,
          date: new Date().toISOString(),
          status: 'approved'   // published immediately
        };
        await set(newRef, payload);
        msgEl.textContent = 'Thanks ‚Äî your review is now published.';
        form.reset();
        // reset hidden rating to default 5 after reset
        const hidden = document.getElementById('vbest-hidden-rating');
        if (hidden) hidden.value = '5';
        // reset stars UI (handled by helper script below if present)
        setTimeout(()=>{ msgEl.textContent=''; toggleForm(false); }, 900);
      } catch (err) {
        console.error('Failed to submit review:', err);
        msgEl.textContent = 'Submission failed ‚Äî please try again later.';
      }
    });

    // See More toggling
    if (seeMoreBtn) {
      seeMoreBtn.addEventListener('click', function(){
        if (approvedHidden.style.display === 'none' || approvedHidden.style.display === '') {
          approvedHidden.style.display = 'block';
          this.textContent = 'See Less Reviews';
          // process reviews newly revealed
          processAllReviews();
        } else {
          approvedHidden.style.display = 'none';
          this.textContent = 'See More Reviews';
          window.scrollTo({ top: document.querySelector('.vbest-reviews').offsetTop - 20, behavior: 'smooth' });
        }
      });
    }

    // keyboard ESC closes form
    document.addEventListener('keydown', function(e){
      if (e.key === 'Escape' && formContainer && formContainer.style.display === 'block') toggleForm(false);
    });

  </script>

  <!-- Footer accordion script (REPLACED: click-only toggle, content hidden on load) -->
  <script>
    (function(){
      // hide all accordion content on load
      document.querySelectorAll('.accordion-content').forEach(function(c){ c.style.display = 'none'; });

      // add click handlers so content opens only when clicked (works on desktop & mobile)
      document.querySelectorAll('.accordion-btn').forEach(function(btn){
        btn.addEventListener('click', function(e){
          e.preventDefault();
          const content = btn.nextElementSibling;
          if (!content) return;
          // toggle clicked content only
          if (content.style.display === 'block') {
            content.style.display = 'none';
          } else {
            content.style.display = 'block';
          }
        });
        // ensure touch doesn't auto-open elsewhere; click handles toggling
        btn.addEventListener('touchstart', function(){ /* noop */ }, {passive:true});
      });

      // back-to-top link handling if present
      document.querySelectorAll(".shilpi-top-link").forEach(link => {
        link.addEventListener("click", e => { e.preventDefault(); window.scrollTo({ top: 0, behavior: "smooth" }); });
      });
    })();
  </script>

  <!-- ================= Star behavior script (wires up the new 5-star UI) ================= -->
  <script>
    (function(){
      const labelsMap = {1:'Poor',2:'Fair',3:'Good',4:'Very Good',5:'Excellent'};

      function setRatingUI(val) {
        const form = document.getElementById('vbest-review-form');
        if (!form) return;
        const hidden = form.querySelector('input[name="rating"]');
        if (hidden) hidden.value = String(val);
        const stars = form.querySelectorAll('.vbest-star');
        stars.forEach(s => {
          const v = Number(s.dataset.value);
          if (v <= val) s.classList.add('filled'); else s.classList.remove('filled');
          s.setAttribute('aria-checked', String(v === val));
        });
        const label = form.querySelector('#vbest-star-label');
        if (label) label.textContent = labelsMap[val] || '';
      }

      function attachStarHandlers() {
        const form = document.getElementById('vbest-review-form');
        if (!form) return;
        const stars = form.querySelectorAll('.vbest-star');
        if (!stars || stars.length === 0) return;

        stars.forEach(st => {
          st.addEventListener('click', function(e){
            const val = Number(this.dataset.value) || 5;
            setRatingUI(val);
          });

          st.addEventListener('keydown', function(e){
            const current = Number(form.querySelector('input[name=\"rating\"]').value || 5);
            if (e.key === 'ArrowRight' || e.key === 'ArrowUp') {
              e.preventDefault();
              const next = Math.min(5, current + 1);
              setRatingUI(next);
              const el = form.querySelector('.vbest-star[data-value=\"'+next+'\"]');
              if (el) el.focus();
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowDown') {
              e.preventDefault();
              const prev = Math.max(1, current - 1);
              setRatingUI(prev);
              const el = form.querySelector('.vbest-star[data-value=\"'+prev+'\"]');
              if (el) el.focus();
            } else if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              const val = Number(this.dataset.value) || 5;
              setRatingUI(val);
            }
          });

          // Make stars focusable
          st.setAttribute('tabindex','0');
        });

        // default rating
        setRatingUI(5);
      }

      // Ensure handlers are attached after the form exists. The form is dynamically created in a module script above.
      function waitForFormThenAttach(retries = 20) {
        const form = document.getElementById('vbest-review-form');
        if (form) {
          attachStarHandlers();
          return;
        }
        if (retries > 0) {
          setTimeout(() => waitForFormThenAttach(retries - 1), 120);
        }
      }
      waitForFormThenAttach();

      // When the form opens, scroll to top and focus name input (works on mobile)
      document.getElementById('vbestWriteReview').addEventListener('click', function(){
        setTimeout(function(){
          window.scrollTo({ top: 0, behavior: 'smooth' });
          const nameInput = document.getElementById('vbest-name');
          if (nameInput) nameInput.focus();
        }, 160);
      });

      // After submit reset, restore stars (in case form.reset() cleared hidden rating)
      document.addEventListener('submit', function(e){
        if (e.target && e.target.id === 'vbest-review-form') {
          setTimeout(function(){ setRatingUI(5); }, 300);
        }
      }, true);
    })();
  </script>
<!-- FULL-SCREEN WHATSAPP CHAT OVERLAY -->
<style>
#vChatBtn{
  position:fixed; left:10px;bottom:70px;
  width:50px;height:50px;border-radius:50%;
  background:#25D366;color:#fff;font-size:18px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 18px rgba(0,0,0,.25);
  cursor:pointer;z-index:10000;
  animation:pulse 1.4s infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1);opacity:1}
  50%{transform:scale(1.15);opacity:.9}
}
#vChatOverlay{
  position:fixed;inset:0;z-index:9999;
  background:#fff;display:none;flex-direction:column;
  font-family:Arial,Helvetica,sans-serif;
}
#vChatOverlay header{
  background:#25D366;color:#fff;
  padding:10px;font-size:10px;font-weight:700;
  display:flex;justify-content:space-between;align-items:center;
}
#vChatOverlay header button{
  background:none;border:none;color:#fff;
  font-size:22px;cursor:pointer;
}
#vChatOverlay .body{
  flex:1;padding:10px;overflow:auto;
  display:flex;flex-direction:column;justify-content:center;
  text-align:center;font-size:16px;color:#333;
}
#vChatOverlay textarea{
  width:90%;max-width:500px;height:100px;
  margin:0 auto 20px;border-radius:8px;
  border:1px solid #ccc;padding:10px;resize:none;
  font-size:15px;
}
#vChatOverlay .send{
  background:#25D366;color:#fff;border:none;
  padding:10px 20px;border-radius:8px;
  font-size:16px;font-weight:700;cursor:pointer;
}
</style>

<div id="vChatBtn" title="Chat with us">üí¨</div>

<div id="vChatOverlay">
  <header>
    <span>Chat with VBest</span>
    <button id="vClose">√ó</button>
  </header>
  <div class="body">
    <textarea id="vMsg" placeholder="Hi! Tell us what you need (size, budget, color ‚Ä¶)"></textarea>
    <button class="send" id="vSend">Send on WhatsApp</button>
  </div>
</div>

<script>
const btn=document.getElementById('vChatBtn');
const overlay=document.getElementById('vChatOverlay');
const close=document.getElementById('vClose');
const send=document.getElementById('vSend');
const msg=document.getElementById('vMsg');
const phone="2347080535579"; // your WhatsApp number

btn.onclick=()=>overlay.style.display="flex";
close.onclick=()=>overlay.style.display="none";
send.onclick=()=>{
  const text=msg.value.trim();
  if(!text){alert("Please type a message.");return;}
  const url="https://wa.me/"+phone+"?text="+encodeURIComponent(text);
  window.open(url,"_blank");
  msg.value="";
  overlay.style.display="none";
};
</script>
<!-- END FULL-SCREEN WHATSAPP CHAT OVERLAY -->
<!-- === SEARCH: show main category + matching sub-pages + products (paste before </body>) === -->
<style id="liveSearchStyles">
/* EXACT styles you provided ‚Äî do not change */
#searchResults { max-width: 980px; margin: 12px auto 36px; padding: 0 12px; box-sizing: border-box; }
#searchPages { display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-bottom:10px; }
.search-page-link {
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px;
  background:linear-gradient(90deg, rgba(255,153,0,0.12), rgba(0,0,0,0.02));
  color:var(--brand-blue,#146eb4); font-weight:800; text-decoration:none; border:1px solid rgba(0,0,0,0.04);
}
.search-page-link:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,0.06); }
#searchProductsGrid { display:grid; grid-template-columns:repeat(1,1fr); gap:12px; }
@media (min-width:720px){ #searchProductsGrid { grid-template-columns:repeat(2,1fr); } }
@media (min-width:1060px){ #searchProductsGrid { grid-template-columns:repeat(3,1fr); } }
.sr-card { background:var(--panel,#f9f9f9); border-radius:10px; padding:10px; display:flex; gap:10px; align-items:flex-start; border:1px solid var(--card-border,#e9e9e9); }
.sr-thumb { width:120px; height:90px; flex:0 0 120px; border-radius:6px; overflow:hidden; background:#fff; display:block; }
.sr-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.sr-meta { flex:1; min-width:0; text-align:left; }
.sr-name { font-weight:800; font-size:15px; margin:0 0 6px; color:var(--text,#111); overflow:hidden; text-overflow:ellipsis; white-space:nowrap; cursor:pointer; }
.sr-price-wrap { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:8px; }
.sr-old { text-decoration:line-through; color:#b12704; font-weight:800; font-size:13px; }
.sr-price { color:#27ae60; font-weight:900; font-size:15px; }
.sr-actions { display:flex; gap:8px; margin-top:6px; }
.sr-btn { padding:8px 10px; border-radius:8px; font-weight:800; text-decoration:none; border:0; cursor:pointer; display:inline-flex; align-items:center; gap:8px; }
.sr-inquiry { background:#25D366; color:#fff; }
.sr-add { background:var(--accent,#ff9900); color:#fff; }
#searchNoResults { text-align:center; color:var(--muted,#666); padding:12px 6px; }
.sr-highlight { background:linear-gradient(90deg, rgba(255,153,0,0.12), rgba(255,153,0,0.04)); padding:0 4px; border-radius:4px; }
.sr-count { color:var(--muted,#666); font-size:13px; margin-bottom:8px; display:block; }
</style>

<script>
(function(){
  // CONFIG: Google Sheet + site-index.json
  const SHEET_URL = "https://opensheet.elk.sh/1FA4s21Je3ebeFXUXGu_xvqdo4gbM1v9Q9jOHt6LAH6Y/Sheet1";
  const INDEX_URL = "site-index.json"; // your JSON you provided
  const MAX_RESULTS = 100;
  const DEFAULT_WA = "https://wa.me/2347080535579";

  // MAIN CATEGORY PAGES mapping ‚Äî ensure these filenames exist on your site
  // add or edit if you use different category page filenames
  const CATEGORY_PAGES = {
    chair: "chair.html",
    chairs: "chair.html",
    sofa: "sofa.html",
    sofas: "sofa.html",
    bed: "bed.html",
    beds: "bed.html",
    dining: "dining.html",
    table: "centertable.html",
    tables: "centertable.html",
    office: "office.html",
    outdoor: "outdoor.html",
    game: "game.html",
    light: "light.html",
    all: "all.html"
  };

  // DOM refs
  const input = document.getElementById('searchInput');
  const resultsEl = document.getElementById('searchResults');
  if(!input || !resultsEl) return;

  // state
  let sheetData = [];
  let pageIndex = [];
  let loaded = false;
  window.fsProducts = window.fsProducts || [];
  const idxMap = {}; // ProductName||Image -> idx

  // helpers
  const norm = s => String(s||'').toLowerCase().normalize('NFKD').replace(/[\u0300-\u036f]/g,'').trim();
  const esc = s => String(s||'');
  const safeImg = u => (u && String(u).trim()) ? u : 'https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg';
  function reEscape(s){ return String(s||'').replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
  function highlight(text, tokens){
    if(!tokens || !tokens.length) return esc(text);
    let out = esc(text);
    tokens.forEach(t => {
      if(!t) return;
      out = out.replace(new RegExp('(' + reEscape(t) + ')','ig'), '<span class="sr-highlight">$1</span>');
    });
    return out;
  }

  // load sheet + index
  async function loadData(){
    if(loaded) return; loaded = true;
    try{
      const [sRes, pRes] = await Promise.all([fetch(SHEET_URL), fetch(INDEX_URL)]);
      const sJson = await sRes.json();
      const pJson = await pRes.json();
      sheetData = Array.isArray(sJson) ? sJson : [];
      pageIndex = Array.isArray(pJson) ? pJson : [];

      // normalize and append sheet rows into window.fsProducts (avoid duplicates)
      sheetData.forEach((r) => {
        const row = {
          Category: r.Category || r.category || '',
          ProductName: r.ProductName || r.product || '',
          Description: r.Description || r.description || '',
          DiscountPrice: r.DiscountPrice || r['DiscountPrice '] || r.discountprice || '',
          Price: r.Price || r.price || '',
          ImageLink: r.ImageLink || r.image || r.imageurl || '',
          Region: r.Region || r.region || '',
          Views: r.Views || r.views || 0,
          Tag: r.Tag || r.tag || ''
        };
        const key = (row.ProductName||'') + '||' + (row.ImageLink||'');
        if(idxMap[key] !== undefined) return;
        const idx = window.fsProducts.length;
        window.fsProducts.push(row);
        idxMap[key] = idx;
      });
    }catch(err){
      console.error('loadData error', err);
      sheetData = [];
      pageIndex = [];
    }
  }

  // tokens from query
  function queryTokens(q){
    return (q||'').toLowerCase().split(/\s+/).map(t => t.trim()).filter(Boolean);
  }

  // tokenMatchesField: true if token contains field or field contains token or any word-substring match
  function tokenMatchesField(token, field){
    if(!field) return false;
    const f = norm(field);
    const t = norm(token);
    if(!t) return false;
    if(f.includes(t) || t.includes(f)) return true;
    const words = f.split(/[^a-z0-9]+/).filter(Boolean);
    for(const w of words){
      if(w && (w.includes(t) || t.includes(w))) return true;
    }
    return false;
  }

  // Score row according to priority: Category (100) > ProductName (60) > Region (30) > Description (10)
  function scoreRow(row, tokens){
    let score = 0;
    for(const tok of tokens){
      if(!tok) continue;
      if(tokenMatchesField(tok, row.Category)) { score += 100; continue; }
      if(tokenMatchesField(tok, row.ProductName)) { score += 60; continue; }
      if(tokenMatchesField(tok, row.Region)) { score += 30; continue; }
      if(tokenMatchesField(tok, row.Description)) { score += 10; continue; }
    }
    // small views boost
    const v = parseInt(String(row.Views||0).replace(/\D/g,''),10) || 0;
    score += Math.min(50, Math.floor(v/10));
    return score;
  }

  // detect main category page (chair.html etc) from tokens using CATEGORY_PAGES map
  function detectMainCategoryPage(tokens){
    for(const tok of tokens){
      if(!tok) continue;
      const t = tok.toLowerCase().replace(/[^a-z0-9]/g,'');
      if(CATEGORY_PAGES[t]) return { link: CATEGORY_PAGES[t], title: t.charAt(0).toUpperCase() + t.slice(1) };
    }
    return null;
  }

  // detect matching sub-pages from pageIndex (title/tags/description)
  function detectSubPages(tokens){
    const matches = [];
    for(const p of pageIndex){
      for(const tok of tokens){
        if(!tok) continue;
        if(tokenMatchesField(tok, p.title) || tokenMatchesField(tok, p.description) || (p.tags||[]).some(tag => tokenMatchesField(tok, tag))){
          matches.push(p);
          break;
        }
      }
    }
    return matches;
  }

  // find product matches from sheet and return scored sorted list
  function findProductMatches(tokens){
    const scored = [];
    for(const r of sheetData){
      const s = scoreRow(r, tokens);
      if(s > 0) scored.push({row:r, score:s});
    }
    scored.sort((a,b) => {
      if(b.score !== a.score) return b.score - a.score;
      const av = parseInt(String(a.row.Views||0).replace(/\D/g,''),10) || 0;
      const bv = parseInt(String(b.row.Views||0).replace(/\D/g,''),10) || 0;
      return bv - av;
    });
    return scored.slice(0, MAX_RESULTS);
  }

  // render final results: main category page first (if any), then sub-pages, then products
  function render(query){
    const tokens = queryTokens(query);
    resultsEl.innerHTML = '';
    if(!tokens.length) return;

    const mainPage = detectMainCategoryPage(tokens);      // e.g., {link:'chair.html', title:'Chair'}
    const subPages = detectSubPages(tokens);              // from site-index.json (e.g., Accent Chairs)
    const products = findProductMatches(tokens);          // sheet results (scored)

    let html = '';

    // main category CTA first (if exists) ‚Äî ensure not duplicate with subPages
    if(mainPage){
      html += `<div id="searchPages" aria-label="Pages matching search">
        <a class="search-page-link" href="${esc(mainPage.link)}">View all ${esc(mainPage.title)}</a>
      </div>`;
    }

    // sub-pages (if any) ‚Äî show them below main CTA (avoid duplicate main page link)
    if(subPages && subPages.length){
      // ensure we still have the banner container (append)
      if(!mainPage) html += `<div id="searchPages" aria-label="Pages matching search">`;
      html += subPages.map(p => {
        // include thumbnail if present
        const thumb = p.image ? `<img src="${esc(p.image)}" style="width:30px;height:30px;border-radius:4px"> ` : '';
        return `<a class="search-page-link" href="${esc(p.link)}">${thumb}${highlight(p.title || p.link, tokens)}</a>`;
      }).join('');
      if(!mainPage) html += `</div>`;
    }

    // products
    if(products.length === 0){
      html += `<div id="searchNoResults">No matching products. Try fewer words or check pages above.</div>`;
    } else {
      html += `<div class="sr-count">Showing ${products.length} result(s)</div><div id="searchProductsGrid">` +
        products.map(item => {
          const p = item.row;
          const key = (p.ProductName||'') + '||' + (p.ImageLink||'');
          let idx = idxMap[key];
          if(idx === undefined){
            idx = window.fsProducts.length;
            window.fsProducts.push(p);
            idxMap[key] = idx;
          }
          const nameEsc = esc(p.ProductName || 'Unnamed');
          const price = esc(p.DiscountPrice || p.Price || '');
          const old = esc(p.Price || '');
          const img = safeImg(p.ImageLink || '');
          const waLink = DEFAULT_WA + '?text=' + encodeURIComponent('Hello, I am interested in ' + (p.ProductName||''));
          return `
            <div class="sr-card" data-idx="${idx}">
              <a class="sr-thumb" href="javascript:void(0)" data-idx="${idx}" aria-label="Open ${nameEsc}"><img src="${esc(img)}" alt="${nameEsc}" loading="lazy"></a>
              <div class="sr-meta">
                <div class="sr-name" data-idx="${idx}" role="button">${ highlight(nameEsc, tokens) }</div>
                <div class="sr-price-wrap">
                  ${ old ? `<div class="sr-old">${old}</div>` : '' }
                  <div class="sr-price">${ price || old || '' }</div>
                </div>
                <div class="sr-actions">
                  <a class="sr-btn sr-inquiry" href="${waLink}" target="_blank" rel="noopener">üì© Inquiry</a>
                  <button class="sr-btn sr-add" data-idx="${idx}">üõí Add to Cart</button>
                </div>
              </div>
            </div>
          `;
        }).join('') + `</div>`;
    }

    resultsEl.innerHTML = html;

    // interactions
    resultsEl.querySelectorAll('.sr-thumb, .sr-name').forEach(el => {
      el.addEventListener('click', function(){
        const idx = parseInt(this.getAttribute('data-idx'), 10);
        if(!isNaN(idx) && typeof window.fsOpenDetails === 'function'){
          try{ window.fsOpenDetails(idx); } catch(e){ console.error('fsOpenDetails', e); }
        }
      }, { passive:true });
    });
    resultsEl.querySelectorAll('.sr-add').forEach(btn => {
      btn.addEventListener('click', function(e){
        e.preventDefault();
        const idx = parseInt(this.getAttribute('data-idx'), 10);
        const p = window.fsProducts && window.fsProducts[idx];
        if(!p){ alert('Product data not available'); return; }
        try{
          if(typeof window.fsAddToCart === 'function'){
            window.fsAddToCart(p.ProductName || '', p.DiscountPrice || p.Price || '', p.ImageLink || '');
          } else {
            const cart = JSON.parse(localStorage.getItem('cart')||'[]');
            cart.push({ name: p.ProductName || '', price: p.DiscountPrice || p.Price || '', image: p.ImageLink || '', qty:1 });
            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Added to cart (local)');
          }
        }catch(err){ console.error('AddToCart error', err); alert('Error adding to cart'); }
      }, { passive:false });
    });
  }

  // input wiring: debounce + load data
  let dTimer = null;
  input.addEventListener('input', function(){
    const v = input.value || '';
    if(!loaded) loadData().then(()=> { clearTimeout(dTimer); dTimer = setTimeout(()=> render(v), 160); });
    clearTimeout(dTimer);
    dTimer = setTimeout(()=> render(v), 160);
  });

  input.addEventListener('focus', function(){ if(!loaded) loadData(); if(input.value) render(input.value); });
  input.addEventListener('keydown', function(e){ if(e.key === 'Escape'){ input.value=''; resultsEl.innerHTML=''; input.blur(); } });

})();
</script>


<div id="loader" style="
  position:fixed;inset:0;z-index:9999;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:white;font-family:system-ui,sans-serif;
  color:#5b21b6;font-weight:600;font-size:18px;
  transition:opacity .8s ease;">
  <div id="loaderText" style="animation:zoom 2s ease-in-out infinite;">
    Please wait<span id="dots">...</span>
  </div>
  <div id="loaderMsg" style="margin-top:8px;font-size:14px;color:#6b7280;animation:zoom 3s ease-in-out infinite;">
    Loading your furniture experience ‚ú®
  </div>
</div>

<style>
body{opacity:1;transition:opacity 1s ease;} /* visible by default */
@keyframes blink{0%,100%{opacity:.2;}50%{opacity:1;}}
#dots{display:inline-block;animation:blink 1.2s infinite;}
@keyframes zoom{0%,100%{transform:scale(1);}50%{transform:scale(1.15);}}
</style>

<script>
(function(){
  const loader=document.getElementById('loader');
  const msg=document.getElementById('loaderMsg');

  // Skip loader if returning via back/forward navigation
  if (performance.getEntriesByType("navigation")[0].type === "back_forward") {
    loader.remove();
    return;
  }

  const lines=[
    "Polishing visuals ‚ú®",
    "Arranging comfy chairs ü™ë",
    "Almost ready üí´"
  ];
  let i=0;
  const rot=setInterval(()=>{i=(i+1)%lines.length;msg.textContent=lines[i];},1000);
  setTimeout(()=>{
    clearInterval(rot);
    loader.style.opacity='0';
    setTimeout(()=>{loader.remove();},800);
  },4000); // loader visible 10 s
})();
</script>
</body>

</html>