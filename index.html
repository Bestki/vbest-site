<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
<title>V-Best Luxury Interiors | Buy Luxury Furniture in Nigeria</title>
<meta name="description" content="Shop luxury furniture in Lagos at V-best Luxury Interiors ‚Äî sofas, beds, dining sets, and office furniture. Fast delivery, authentic designs, and 24/7 WhatsApp support.">
<meta name="keywords" content="furniture, V-Best, V'Best, sofa, sofas for sale, sofa set, leather sofa, V-Best Luxury Furnitures, V'Best Luxury Furnitures, v'best Luxury Interiors, V-Best Luxury Interiors, sectional sofa, sofa bed, living room furniture, bed, bed frame, king size bed, queen bed, beds for sale, mattress, dining table, dining set, dining chairs, wardrobe, closet design, office furniture, home furniture, outdoor furniture, patio furniture, custom furniture, bespoke furniture, upholstery services, made to order furniture, furniture store near me, furniture Lagos, modern furniture Lagos, luxury furniture Lagos, handcrafted furniture Lagos, modular sofas Lagos, leather sofas Lagos, bedroom sets Lagos, dining room furniture Lagos">
<link rel="canonical" href="https://vbest-site.vercel.app/">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Vbest Luxury Interiors ‚Äî Premium Furniture in Lagos">
<meta property="og:description" content="Premium sofas, beds, dining & office furniture in Lagos. Fast delivery & custom designs.">
<meta property="og:image" content="https://vbest-site.vercel.app/blog/logo.jpg">
<meta property="og:url" content="https://vbest-site.vercel.app/">
<meta name="twitter:card" content="summary_large_image">


  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="/image/jpeg" href="/blog/logo.jpg">
<style>
/* SHOP NOW button matching Dining (uses dining variable --btn) */

  /* ================= Base (Amazon-like ligh.t theme) ================= */
  :root {
    --bg: #ffffff;             /* page background */
    --panel: #f9f9f9;          /* card / panel background */
    --card-border: #e9e9e9;    /* subtle borders */
    --muted: #565959;          /* muted paragraph / secondary text */
    --accent: #ff9900;         /* Amazon orange (primary) */
    --accent-2: #e68a00;       /* slightly darker orange for gradients */
    --brand-blue: #146eb4;     /* blue used for headings/links */
    --text: #111111;           /* primary text */
    --star: #ffd54a;           /* star color */
  }

  /* ====== safe global fixes ====== */
  * { box-sizing: border-box; }
  html, body { height:100%; overflow-x: hidden; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
  img { max-width: 100%; height: auto; display: block; }

  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: var(--bg);
    color: var(--text);
    text-align: center;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* Header */
  header {
    background: var(--bg);
    color: var(--text);
    padding: 40px 20px 10px;
    position: relative;
  }
  .logo { text-align:center; margin: 12px auto; }
  .logo img { max-width:100%; height:auto; max-height:250px; border-radius:6px; object-fit:contain; display:block; margin:0 auto; background:#fff; }

  /* Logo caption */
  .logo-caption { color: var(--accent); font-weight:700; }

  /* Featured / rewrite area */
  .rewrite-side { text-align:center; margin: 26px 0; }
  .rewrite-side h3 { font-size: clamp(18px, 3.2vw, 22px); color: var(--brand-blue); margin: 6px 0 2px; font-weight:700; }
  .rewrite-side h2 { font-size: clamp(22px, 4.2vw, 34px); margin: 0 0 6px; font-weight:800; color:var(--text); }
  .rewrite-side p { font-size: clamp(16px, 2.2vw, 18px); color: var(--muted); margin: 0; }



  /* Reviews layout - made readable on white */
  .vbest-reviews {
    max-width:1160px;
    margin: 12px auto 0;
    padding: 18px;
    box-sizing:border-box;
    text-align:left;
    background: #fff;
    border: 1px solid var(--card-border);
    border-radius: 8px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.04);
  }
  .vbest-summary { text-align:center; margin-bottom:12px; }
  .vbest-score-number { font-size:26px; font-weight:800; color:var(--text); line-height:1; }
  .vbest-stars { color:var(--star); font-size:16px; margin:4px 0; }
  .vbest-count { color:var(--muted); font-size:13px; margin-bottom:8px; }

  .vbest-bars { max-width:520px; margin:0 auto 8px; text-align:left; }
  .vbest-bar-row { display:flex; align-items:center; gap:10px; margin:6px 0; }
  .vbest-bar-label { width:18px; color:var(--muted); font-weight:700; }
  .vbest-bar { flex:1; height:10px; background:#eee; border-radius:6px; overflow:hidden; border:1px solid rgba(0,0,0,0.03); }
  .vbest-bar-fill { height:100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); border-radius:6px; width:0%; }
  .vbest-bar-num { width:36px; text-align:right; color:var(--muted); font-size:13px; }

  .vbest-write-btn {
    margin-top:8px;
    padding:8px 14px;
    background:var(--accent);
    color:#fff;
    border-radius:8px;
    cursor:pointer;
    font-weight:700;
    border:0;
  }
  .vbest-write-btn:hover { opacity:0.95; transform:translateY(-1px); }

  .vbest-list { max-width:900px; margin:12px auto 0; }
  .vbest-review {
    display:flex;
    gap:12px;
    padding:14px 12px;
    border-bottom:1px solid var(--card-border);
    align-items:flex-start;
    background: var(--panel);
    border-radius:8px;
    margin-bottom:10px;
  }
  .vbest-avatar { width:56px; height:56px; border-radius:50%; background:var(--star); color:#111; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:20px; flex:0 0 56px; }
  .vbest-review-body { flex:1; min-width:0; }
  .vbest-review-meta { display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-bottom:8px; }
  .vbest-review-meta strong { color:var(--text); font-size:15px; }
  .vbest-verified { color:var(--accent); font-size:14px; }
  .vbest-date { color:var(--muted); font-size:12px; margin-left:6px; }
  .vbest-review-stars { color:var(--star); margin-left:auto; font-size:14px; }
  .vbest-review-text { color:#333333; margin:6px 0 0; font-size:16px; line-height:1.6; }

  .vbest-list-actions { text-align:center; margin-top:12px; }
  .vbest-see-btn { padding:9px 16px; background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--text); border-radius:8px; cursor:pointer; }
  .vbest-see-btn:hover { background:rgba(0,0,0,0.02); }

  /* Floating review form - light card */
  .vbest-review-form-container {
    position:fixed; display:none; z-index:4000; left:50%; transform:translateX(-50%); bottom:22px; width:520px; max-width:96%;
    background:#fff; border:1px solid var(--card-border); padding:16px; border-radius:10px; box-shadow:0 12px 30px rgba(0,0,0,0.08);
    color:var(--text); box-sizing:border-box;
  }
  .vbest-review-form-container.fullpage {
    left:0;
    top:0;
    bottom:0;
    right:0;
    width:100%;
    height:100%;
    transform:none;
    padding:20px;
    border-radius:0;
    overflow-y:auto;
    display:none;
    background:#fff;
  }
  .vbest-form-row { margin-bottom:10px; text-align:left; }
  .vbest-form-row label { display:block; font-size:13px; color:var(--muted); margin-bottom:6px; }
  .vbest-form-row input[type="text"], .vbest-form-row select, .vbest-form-row textarea {
    width:100%; padding:10px 12px; border-radius:6px; border:1px solid var(--card-border); background:#fff; color:var(--text); font-size:15px; box-sizing:border-box;
  }
  .vbest-form-row textarea { resize:vertical; min-height:96px; }
  .vbest-form-actions { display:flex; gap:8px; justify-content:flex-end; align-items:center; margin-top:6px; }
  .vbest-submit-btn { background:var(--accent); border:0; color:#fff; padding:10px 14px; border-radius:6px; font-weight:700; cursor:pointer; }
  .vbest-cancel-btn { background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--text); padding:8px 10px; border-radius:6px; cursor:pointer; }
  .vbest-form-msg { margin-top:8px; font-size:14px; color:var(--muted); }

  /* Rating row (inline, single line) */
  .rating-row {
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:space-between;
    flex-wrap:nowrap;
    overflow-x:auto;
    padding-bottom:6px;
  }
  .rating-row label {
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    padding:8px 10px;
    border-radius:8px;
    white-space:nowrap;
    border:1px solid rgba(0,0,0,0.03);
    background: rgba(0,0,0,0.01);
    min-width:fit-content;
    color:var(--text);
  }
  .rating-row input[type="radio"] { display:none; }
  .rating-row span { font-weight:700; font-size:14px; color:var(--text); }
  .rating-row input:checked + span { outline: 2px solid var(--accent); background: rgba(255,153,0,0.06); border-radius:6px; padding:4px 6px; }

  /* Footer (light) */
  .shilpi-footer {
    background: #f3f3f3;
    color: var(--text);
    padding: 40px 20px;
    font-family: Arial, sans-serif;
  }
  .shilpi-footer .about h2 { font-size:22px; font-weight:bold; margin-bottom:6px; color:var(--text); }
  .shilpi-footer .about .tagline { font-size:14px; font-weight:300; margin-bottom:10px; color:var(--muted); }
  .shilpi-footer .about-text { font-size:13px; max-width:600px; margin:0 auto 15px; line-height:1.6; color:var(--muted); }

  .social-icons { display:flex; gap:15px; justify-content:center; margin-top:10px; }
  .social-icons a { text-decoration:none; color:var(--brand-blue); font-weight:bold; font-size:16px; transition:0.3s; }
  .social-icons a:hover { color:var(--accent); }

  .footer-bottom { display:flex; flex-wrap:wrap; justify-content:space-between; text-align:left; gap:20px; }
  .footer-col { flex:1; min-width:200px; }
  .footer-col h3 { font-size:16px; margin-bottom:10px; color:var(--text); }
  .footer-col ul li { font-size:14px; margin:4px 0; color:var(--muted); }
  

  .accordion-btn { background:none; border:none; outline:none; font-size:14px; font-weight:bold; color:var(--accent); text-align:left; padding:6px 0; cursor:pointer; width:100%; }
  .accordion-content { display:none; font-size:13px; margin-bottom:10px; line-height:1.5; color:var(--muted); }

  @media (max-width: 768px) {
    .footer-bottom { display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap:12px; padding-left:12px; padding-right:12px; box-sizing:border-box; }
    .footer-bottom .footer-col { width:100%; max-width:420px; margin:8px auto; text-align:center; box-sizing:border-box; }
    .accordion-btn { text-align:center; display:block; width:100%; }
  }

  /* Small star UI tweaks */
  .vbest-star { font-size:32px; background:transparent; border:0; padding:8px 6px; border-radius:6px; color:rgba(0,0,0,0.26); cursor:pointer; line-height:1; user-select:none; }
  .vbest-star.filled { color:var(--star); text-shadow:0 1px 0 rgba(0,0,0,0.08); }
  .rating-row-star { display:flex; gap:6px; justify-content:center; align-items:center; }
  #vbest-star-label { font-size:15px; color:var(--muted); margin-top:8px; text-align:center; font-weight:700; }
  .vbest-review-form-container.fullpage { padding-top: env(safe-area-inset-top,20px); padding-left:12px; padding-right:12px; padding-bottom:20px; box-sizing:border-box; }
  .vbest-review-form-container.fullpage form { width:100%; max-width:720px; margin:0 auto; }
  @media (max-width:480px) {
    .vbest-star { font-size:28px; padding:10px 6px; }
    .vbest-review-form-container.fullpage { padding-top: env(safe-area-inset-top,14px); padding-left:10px; padding-right:10px; }
  }

  /* keep layout the same, keep animation */

</style>


<style>
  /* Theme variable overrides ‚Äî dining-style themes */
  body[data-theme="classic"]{
    --bg:#ffffff; --panel:#f9f9f9; --card-border:#e9e9e9; --muted:#565959;
    --accent:#ff9900; --accent-2:#e68a00; --brand-blue:#146eb4; --text:#111111; --star:#ffd54a;
  }
  body[data-theme="dark"]{
    --bg:#0f1111; --panel:#131921; --card-border:rgba(255,255,255,0.04); --muted:#cfcfcf;
    --accent:#ff9900; --accent-2:#e68a00; --brand-blue:#9ac8ff; --text:#ffffff; --star:#ffd54a;
  }
  body[data-theme="gold"]{
    --bg:#fff8e7; --panel:#fff3d6; --card-border:#f1e1c7; --muted:#5a5a5a;
    --accent:#c89200; --accent-2:#d4a017; --brand-blue:#146eb4; --text:#2e2e2e; --star:#ffd54a;
  }

  /* bottom nav (theme + cart) */
  .bottom-nav{
    position:fixed; left:0; right:0; bottom:0; z-index:99998; height:64px;
    display:flex; justify-content:flex-end; align-items:center; gap:12px;
    padding:8px 12px; background:var(--panel); border-top:1px solid rgba(0,0,0,0.06);
    box-shadow:0 -6px 18px rgba(0,0,0,0.08);
  }
  .bottom-nav button, .bottom-nav a{ background:transparent; border:0; font-size:16px; color:var(--brand-blue); font-weight:800; text-decoration:none; cursor:pointer; display:flex; align-items:center; gap:8px; }
  .cart-badge{ background:#ff3b30; color:#fff; border-radius:50%; padding:3px 8px; font-size:12px; margin-left:6px; display:inline-block; }

  /* Trusted line under header video */

  /* Review truncation + view toggle */
  .vbest-review-text { position:relative; }
  .vbest-review-preview { display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .vbest-review-full { display:none; }
  .vbest-review .view-full { display:inline-block; margin-top:8px; background:none; border:0; color:var(--brand-blue); font-weight:700; cursor:pointer; padding:0; }

.social-icons {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;        /* keep in one row */
  white-space: nowrap;
  overflow-x: auto;        /* small horizontal scroll on tiny screens */
  -webkit-overflow-scrolling: touch;
}

/* reduce anchor padding and make text smaller so everything fits */
.social-icons a {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 6px;
  font-weight:700;
  font-size: 13px;         /* slightly smaller label text */
  text-decoration: none;
  color: inherit;
}

/* shrink icons (font-awesome) */
.social-icons a i {
  font-size: 18px;         /* icon size */
  line-height: 1;
  width: 20px;
  text-align: center;
  display: inline-block;
}

/* brand colors (override earlier coloring) */
.social-icons a .fa-whatsapp { color: #25D366; }
.social-icons a .fa-facebook { color: #1877F2; }
.social-icons a .fa-youtube  { color: #FF0000; }
.social-icons a .fa-twitter  { color: #1DA1F2; }
.social-icons a .fa-instagram{ color: #E1306C; }
.social-icons a .fa-tiktok   { color: #010101; }

/* On very small narrow screens allow wrapping instead of clipping */
@media (max-width:420px) {
  .social-icons { flex-wrap: wrap; gap:6px; padding:4px 6px; }
  .social-icons a { font-size: 12px; padding:4px 6px; }
  .social-icons a i { font-size:16px; width:18px; }
}
</style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FurnitureStore",
  "name": "Vbest Luxury Interiors",
  "url": "https://vbest-site.vercel.app/",
  "telephone": "+2347080535579",
  "priceRange": "$$",
  "image": "https://i.postimg.cc/yNXsb9Q8/IMG-20250822-WA0058.jpg",
  "description": "Premium sofas, beds, dining & office furniture in Lagos. Fast delivery & custom designs.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "156 Olojo Drive, Ojo Alaba International Market",
    "addressLocality": "Lagos",
    "addressCountry": "NG"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 6.4531,
    "longitude": 3.3958
  },
  "openingHours": "Mo-Su 08:00-21:00",
  "sameAs": [
    "https://twitter.com/shilpiluxe",
    "https://instagram.com/shilpiluxe",
    "https://tiktok.com/@shilpiluxe"
  ]
}
</script>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NP94R6352Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-NP94R6352Q');
</script>
<!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('D3FQ2UBC77U2R2QSQ1HG');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "V-Best Luxury Interiors",
  "url": "https://vbest-site.vercel.app/",
  "logo": "https://vbest-site.vercel.app/blog/logo.jpg",
  "sameAs": [
    "https://www.instagram.com/vbest_luxury_interiors?igsh=MWFxcmN4eTd6dndnNQ==",
    "https://x.com/V_Best_?t=OYXpZ6gww4RebrF4oJgWYw&s=09",
    "https://www.facebook.com/share/179pLbZtXk/",
    "https://www.tiktok.com/@vbestluxuryinterior?_t=ZS-90f109MDGZ2&_r=1",
    "https://youtube.com/@best-tm7bm?si=PGsKnKWxqbG0cmRt"
  ]
}
</script>
<!-- Facebook Pixel Code --><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'); fbq('init', '677322691667443'); fbq('track', 'PageView');</script><noscript> <img height="1" width="1" src="https://www.facebook.com/tr?id=677322691667443&ev=PageView&noscript=1"/></noscript><!-- End Facebook Pixel Code -->
</head>
<body>


  <!-- TOP MEDIA:use an image by default; you can replace this <img> with a <video> tag when you want a video -->
<div class="top-media" aria-hidden="false">
  <img src="images/logo.png" alt="V'Best Interiors Logo" class="logo-media">
</div>
<!-- ===== Horizontal Category Menu (Styled Fancy Banner Look) ===== -->
<div class="top-category-banner">
  <div class="top-category-menu">
    <a href="all.html" class="menu-item"><i class="fa-solid fa-couch"></i><span>Home Furniture</span></a>
    <a href="light.html" class="menu-item"><i class="fa-solid fa-lightbulb"></i><span>Lighting</span></a>
    <a hre="homedecor.html" class="menu-item"><i class="fa-solid fa-paint-roller"></i><span>Home Decor</span></a>
    <a href="outdoor.html" class="menu-item"><i class="fa-solid fa-tree"></i><span>Outdoor</span></a>
    <a href="office.html" class="menu-item"><i class="fa-solid fa-briefcase"></i><span>Office Furniture</span></a>
  </div>
</div>

<!-- ================= Header with logo ================= -->
<div class="header-video-container">
  <video autoplay muted loop playsinline preload="metadata" poster="https://i.postimg.cc/5N0sgfBY/IMG-20250822-WA0005.jpg" class="header-video">
    <source src="videos/best1.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>

<style>
.header-video-container {
  position: relative;
  width: 300px;       /* Set container width */
  height: 200px;      /* You can freely change this */
  overflow: hidden;   /* Hide any overflow */
  border-radius: 8px; /* Rounded corners */
  background-color: black; /* Fallback background */
  border: 1px solid #ccc; /* Optional: for visibility */
}

.header-video {
  width: 100%;
  height: 100%;
  object-fit: cover;  /* Fill container completely */
  display: block;
}

.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

@media (max-width: 600px) {
  .header-video-container { 
    width: 100%;      /* Responsive width */
    height: auto;     /* Adjust height proportionally */
    max-height: 320px; 
  }
}
    

.top-category-banner {
  width: 100%;
  background: linear-gradient(135deg, #fff8f0, #ffe6cc);
  padding: 10px 0;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  border-radius: 10px;
  margin: 8px 0 12px;
}

/* ===== Menu Inside ===== */
.top-category-menu {
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 95%;
  background: #fff;
  border-radius: 8px;
  padding: 10px 0;
  box-shadow: inset 0 0 8px rgba(255,153,0,0.15);
}

.top-category-menu .menu-item {
  text-decoration: none;
  color: #222;
  font-weight: 600;
  font-size: 12px; /* smaller text */
  text-align: center;
  display: flex;
  flex-direction: column; /* icon on top, text below */
  align-items: center;
  transition: all 0.3s ease;
  margin: 0 2px; /* small spacing */
}

.top-category-menu .menu-item i {
  font-size: 18px; /* smaller icon */
  color: #ff9900;
  margin-bottom: 2px;
  transition: all 0.3s ease;
}

.top-category-menu .menu-item:hover {
  transform: scale(1.05);
}

.top-category-menu .menu-item:hover i {
  color: #e68a00;
}

.top-category-menu .menu-item:hover span {
  color: #e68a00;
}

@media (max-width: 600px) {
  .top-category-menu {
    padding: 8px 0;
    width: 98%;
  }
  .top-category-menu .menu-item i {
    font-size: 16px;
  }
  .top-category-menu .menu-item span {
    font-size: 10px;
  }
}

</style>
  
  
<!-- ===== Video Header Section with Shop Now Button ===== -->


  <!-- Shop Now Button Overlay -->
<style>
/* Search bar */
.search-bar { 
    margin: 0 auto; /* remove all top/bottom margin */
    max-width: 500px; 
    padding: 0 15px; 
}
.search-bar input {
    width:100%;
    padding:12px 15px;
    border-radius:6px;
    border:1px solid var(--card-border);
    font-size:16px;
    outline:none;
    background:#fff;
    color:var(--text);
    margin-bottom: 2px; /* minimal bottom margin */
}
.search-bar input::placeholder { 
    color:#9aa0a6; 
}

/* Highlights section - Fast Delivery */
.vbest-highrev { 
    margin-top: 0; /* remove space above */
    padding: 4px 0; /* minimal padding */
    box-sizing: border-box; 
}

.vbest-highlights {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1160px;
    margin: 0 auto; /* remove top/bottom margin */
    width: 100%;
    background: white;
    padding: 4px 0; /* minimal vertical padding */
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05); /* subtle shadow */
    gap: 12px; /* minimal gap between icons */
}

/* Individual highlight boxes */
.vbest-hi {
    flex: 1;
    text-align: center;
    padding: 4px 0; /* reduce vertical padding */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* Plain orange icon only */
.vbest-icon {
    font-size: 22px;
    color: #FF9900;  /* orange icon */
    margin-bottom: 2px; /* reduce spacing to text */
}

/* Text styling */
.vbest-hi-text {
    font-weight: 700;
    font-size: 14px;
    text-align: center;
}
</style>
</div>
<section class="search-bar">
  <input type="text" id="searchInput" placeholder="üîé Search for what you want...">
</section>

<section id="searchResults"></section>

<!-- ===== Highlights + Reviews (placed directly under logo) ===== -->
    <div class="vbest-highrev" aria-label="Highlights and reviews">
      <!-- Highlights -->
      <div class="vbest-highlights" role="group" aria-label="Site highlights">
        <div class="vbest-hi">
          <div class="vbest-icon"><i class="fa-solid fa-certificate" aria-hidden="true"></i></div>
          <div class="vbest-hi-text">100% Authentic Products</div>
        </div>

        <div class="vbest-hi">
          <div class="vbest-icon"><i class="fa-solid fa-truck-fast" aria-hidden="true"></i></div>
          <div class="vbest-hi-text">Fast Nationwide Delivery</div>
        </div>

        <div class="vbest-hi">
          <div class="vbest-icon"><i class="fa-solid fa-headset" aria-hidden="true"></i></div>
          <div class="vbest-hi-text">Quick Customer Support</div>
        </div>
      </div>


  </header>
  



  <!-- ===== Categories (always 2 columns) ===== -->

<!-- ======= Featured (Top / New / Most) ‚Äî full ready block (paste after categories) ======= -->

<section id="featSection" aria-label="Featured products" style="padding:20px 12px;">
  <style>
    /* Scoped styles */
    #featSection { max-width:1160px; margin:0 auto; }
    .fs-block { margin-bottom:26px; }

    /* Title banner: animated highlight + blinking dot, boxed so it reads like a banner */
    .fs-title {
      display:inline-block;
      position:relative;
      padding:8px 14px;
      border-radius:10px;
      background: linear-gradient(90deg, rgba(0,200,83,0.35), rgba(0,255,128,0.15) 40%, transparent 60%);
      background-size:200% 100%;
      animation: bannerSlide 6s linear infinite;
      box-shadow:0 6px 18px rgba(0,0,0,0.03);
      font-weight:800;
      font-size:20px;
      color:var(--accent,#111);
      margin:0 0 6px;
    }
    @keyframes bannerSlide { 0%{background-position:0% 50%}100%{background-position:200% 50%} }
    .fs-title::after{
      content:'';
      position:absolute;
      right:-10px;
      top:50%;
      transform:translateY(-50%);
      width:12px;height:12px;border-radius:50%;
      background:#ff3b30; box-shadow:0 0 14px #ff3b30;
      animation: blinkDot 1.4s infinite;
    }
    @keyframes blinkDot { 0%,50%{opacity:1}51%,100%{opacity:0.15} }

    .fs-sub { color:var(--muted,#666); font-weight:700; font-size:13px; margin:0 0 12px; display:block; }

    .fs-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:10px; }
    @media(min-width:1024px){ .fs-grid { grid-template-columns:repeat(3,1fr); } }

    .fs-card {
      background:var(--card,#f8f8f8); border-radius:10px; overflow:hidden; position:relative;
      border:1px solid var(--card-border,#eee); box-shadow:0 6px 18px rgba(0,0,0,0.04);
      display:flex; flex-direction:column; min-height:320px;
    }
    .fs-thumb{ width:100%; height:180px; overflow:hidden; cursor:pointer; display:block; }
    .fs-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }

    .fs-badge {
      position:absolute; left:12px; top:12px; z-index:12; padding:8px 12px; border-radius:999px;
      color:#fff; font-weight:900; font-size:12px; box-shadow:0 8px 26px rgba(0,0,0,0.12);
    }
    .fs-orange{ background:linear-gradient(180deg,#ff9900,#e68a00); }
    .fs-green{ background:linear-gradient(180deg,#27ae60,#1f8a3f); }
    .fs-blink{ animation:fsPulse 1.4s ease-in-out infinite; }
    @keyframes fsPulse { 0%{transform:translateY(0) scale(1)}50%{transform:translateY(-3px) scale(1.03)}100%{transform:translateY(0) scale(1)} }

    .fs-body{ padding:10px; display:flex; flex-direction:column; gap:6px; flex:1; text-align:left; }
    .fs-body h3{ margin:0; font-size:15px; font-weight:800; color:var(--text,#111); cursor:pointer; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
    .fs-price-row{ display:flex; flex-direction:column; gap:4px; align-items:flex-start; flex-wrap:wrap; }
    .fs-old{ text-decoration:line-through; color:#B12704; font-weight:800; font-size:13px; }
    .fs-price{ color:#27ae60; font-weight:900; font-size:15px; }
    .fs-timer{ color:#FF9900; font-weight:800; font-size:13px; margin-top:6px; }
    .fs-stars{ color:#ffd54a; margin-top:6px; font-size:14px; }

    /* Save style ‚Äî changed to black per request */
    .fs-save { color:#000; font-weight:700; font-size:13px; text-decoration:none; margin-top:2px; }

    .fs-btns{ margin-top:auto; display:flex; gap:8px; }
    .fs-btn{ flex:1; padding:10px; border-radius:8px; font-weight:800; border:0; cursor:pointer; color:#fff; text-decoration:none; display:inline-flex; align-items:center; justify-content:center; }
    .fs-inquiry{ background:var(--whatsapp,#25D366); }
    .fs-add{ background:var(--btn,#FF9900); color:var(--btn-text,#fff); }

    /* details overlay (self-contained IDs) */
    #featDetails{ position:fixed; inset:0; display:none; align-items:flex-start; justify-content:center; background:rgba(0,0,0,0.9); z-index:99999; padding:18px; overflow:auto; }
    #featDetailsInner{ width:100%; max-width:1100px; background:var(--card,#fff); color:var(--text,#111); border-radius:10px; padding:18px; display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap; max-height:calc(100vh - 40px); overflow:auto; }
    #featClose{ position:absolute; right:18px; top:12px; background:transparent; border:2px solid rgba(0,0,0,0.08); color:var(--text,#111); padding:6px 10px; border-radius:8px; cursor:pointer; }
    .feat-left{ flex:1 1 420px; text-align:center; }
    .feat-left img{ max-width:100%; max-height:60vh; object-fit:contain; border-radius:8px; display:block; margin:0 auto; }
    .feat-right{ flex:1 1 360px; }
    .feat-right h2{ margin:0 0 8px; color:var(--accent,#111); font-size:22px; }
    .feat-desc{ margin-top:12px; line-height:1.6; color:var(--text,#333); }
    .see-all {
  text-align: center;
  margin-top: 10px;
}
.see-all button {
  background-color: #25d366;
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}
.see-all button:hover {
  background-color: #1eb85c;
}
/* Base layout for category tile (image/video + label) */
    .category-box {
      position: relative; overflow: hidden; display:flex; flex-direction:column; align-items:stretch; text-align:center; cursor:pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease; background: var(--panel); border-radius:6px; padding:5px; border:1px solid var(--card-border);
    }
    .category-box img { width:100%; height:180px; object-fit:cover; display:block; border-radius:6px; background:#000; }
    .cat-label { display:block; padding:6px 8px; font-weight:700; color:var(--text); margin-top:6px; background:#fff; border-radius:0 0 6px 6px; font-size:13px; }
    .discount-badge { position:absolute; top:10px; left:10px; z-index:6; background: linear-gradient(180deg,#ff9900,#e68a00); color:#fff; padding:6px 9px; font-size:13px; font-weight:800; border-radius:6px; box-shadow:0 6px 18px rgba(230,138,0,0.18); pointer-events:none; opacity:.96; }
    .categories { margin:20px auto; display:grid; grid-template-columns: repeat(2, 1fr); gap:8px; max-width:900px; padding:0; }
    @media (min-width:1024px) { .fs-grid { grid-template-columns:repeat(3,1fr); } }
    @media (max-width:480px) { .category-box img { height:150px; } }
    .shop-now { display:block; margin-top:8px; padding:9px 12px; background:var(--btn,#FF9900); color:#fff; border-radius:6px; text-decoration:none; font-weight:700; }
  </style>

  <!-- Most Viewed -->
  <div class="fs-block">
  
  
  <section class="categories" id="categoryList" aria-label="Product categories">
    <div class="category-box"
       data-href="game.html"
       data-video="https://cdn.pixabay.com/video/2020/10/06/16/01/gaming-room-5637119_1280.mp4"
       data-poster="https://i.postimg.cc/GhBhTtX7/Magshion-Adjustable-Height-Gaming-Chair-with-Retractable-Footrest-and-Computer-Desk-Purple-2e356ae6.png"
       data-badge="34% OFF"
       aria-label="Gaming chairs category">
    <div class="discount-badge" aria-hidden="true">34% OFF</div>
    <img src="https://i.postimg.cc/GhBhTtX7/Magshion-Adjustable-Height-Gaming-Chair-with-Retractable-Footrest-and-Computer-Desk-Purple-2e356ae6.png"
         alt="Gaming chair and desk in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">üéÆ GAMING CHAIRS & TABLE</span>
    <a href="game.html" class="shop-now" aria-label="Shop Gaming Chairs">SHOP NOW</a>
  </div>
  <div class="category-box"
       data-href="office.html"
       data-video="https://cdn.pixabay.com/video/2021/07/28/05/45/office-6482338_1280.mp4"
       data-poster="https://i.postimg.cc/vBybRLq7/Workstation-348.png"
       data-badge="37% OFF"
       aria-label="Office furniture category">
    <div class="discount-badge" aria-hidden="true">37% OFF</div>
    <img src="https://i.postimg.cc/vBybRLq7/Workstation-348.png"
         alt="Office furniture and workstations in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">OFFICE FURNITURES ü™ëüñ•Ô∏è</span>
    <a href="office.html" class="shop-now" aria-label="Shop Office Furniture">SHOP NOW</a>
  </div>
  </section>
  
  
    <h3 class="fs-title">üëÄ Most Viewed</h3>
    <p class="fs-sub">Trending now ‚Äî items people are checking out</p>
    <div id="fsMostGrid" class="fs-grid" aria-live="polite"></div>
  </div>
  <div class="see-all">
    <button onclick="window.location.href='all.html'">view All</button>
  </div>
    <section class="categories" id="categoryList" aria-label="Product categories">
    <div class="category-box"
       data-href="outdoor.html"
       data-video="https://cdn.pixabay.com/video/2019/12/03/05/28/garden-4671578_1280.mp4"
       data-poster="https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg"
       data-badge="30% OFF"
       aria-label="Outdoor & patio category">
    <div class="discount-badge" aria-hidden="true">30% OFF</div>
    <img src="https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg"
         alt="Outdoor and patio furniture in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">ü™ë OUTDOORS & PATIO</span>
    <a href="outdoor.html" class="shop-now" aria-label="Shop Outdoor Furniture">SHOP NOW</a>
  </div>
    <div class="category-box"
       data-href="snooker.html"
       data-video="videos/best4.mp4"
       data-poster="https://i.postimg.cc/7LbWQCnH/807531125-321-1024x1024.jpg"
       data-badge="31% OFF"
       aria-label="Snooker and pool category">
    <div class="discount-badge" aria-hidden="true">31% OFF</div>
    <img src="https://i.postimg.cc/7LbWQCnH/807531125-321-1024x1024.jpg"
         alt="Snooker and pool tables in Lagos ‚Äî Vbest Luxury Interiors" loading="lazy">
    <span class="cat-label">SNOOKERS & POOL üé±</span>
    <a href="snooker.html" class="shop-now" aria-label="Shop Snooker & Pool">SHOP NOW</a>
  </div>
    </section>

  <!-- Top Selling -->
  <div class="fs-block">
    <h3 class="fs-title">üî• Top Selling Items</h3>
    <p class="fs-sub">Customers' favourites ‚Äî high demand items</p>
    <div id="fsTopGrid" class="fs-grid" aria-live="polite"></div>
  </div>
  <div class="see-all">
    <button onclick="window.location.href='all.html'">view All</button>
  </div>

  <!-- New Products -->
  <div class="fs-block">
    <h3 class="fs-title">üÜï New Products</h3>
    <p class="fs-sub">Fresh arrivals ‚Äî check what's just added</p>
    <div id="fsNewGrid" class="fs-grid" aria-live="polite"></div>
  </div>
  <div class="see-all">
    <button onclick="window.location.href='all.html'">view All</button>
  </div>

  <div id="fsMsg" style="text-align:center;color:var(--muted,#666);font-size:14px;"></div>
</section>

<!-- Details overlay for featured (self-contained) -->
<div id="featDetails" role="dialog" aria-hidden="true">
  <div id="featDetailsInner" role="document">
    <button id="featClose">‚úï</button>
    <div class="feat-left" id="featLeft"></div>
    <div class="feat-right" id="featRight"></div>
  </div>
</div>

<script>
/* ===== Full featured logic (self-contained, tolerant field matching + flexible parsing) ===== */
(async function(){
  const sheetUrl = "https://opensheet.elk.sh/1FA4s21Je3ebeFXUXGu_xvqdo4gbM1v9Q9jOHt6LAH6Y/Sheet1";
  const limit = 40;

  /* Utilities */
  function normKey(k){ return String(k||'').toLowerCase().replace(/[^a-z0-9]/g,''); }

  // tolerant findField: exact normalized match, partial contains match, and synonyms fallback
  function findField(item, candidates){
    if(!item) return '';
    const map = {};
    for(const k in item){
      if(!k) continue;
      map[normKey(k)] = item[k];
    }
    // direct normalized match
    for(const c of candidates){
      const key = normKey(c);
      if(map.hasOwnProperty(key)) return map[key];
    }
    // partial contains match (helps with "Price (‚Ç¶)", "Selling Price")
    const candKeys = candidates.map(c => normKey(c));
    for(const key in map){
      for(const ck of candKeys){
        if(key.includes(ck) || ck.includes(key)) return map[key];
      }
    }
    // synonyms fallback
    const synonyms = ['price','amount','sellingprice','cost','discount','discountprice','image','imagelink','views','tag','category','productname','product'];
    for(const s of synonyms){
      if(map.hasOwnProperty(s)) return map[s];
    }
    return '';
  }

  // flexible number parsing (supports "‚Ç¶120,000", "120k", "120 000", "120,000.00")
  function parseNumberFlexible(s){
    if(s === undefined || s === null) return NaN;
    let t = String(s).trim();
    if(t === '') return NaN;
    t = t.replace(/[‚Ç¶$‚Ç¨¬£]/g,'');
    t = t.replace(/\s+/g,'');
    t = t.replace(/k$/i,'000');
    t = t.replace(/[^0-9.\-]/g,'');
    const n = parseFloat(t);
    return isNaN(n) ? NaN : n;
  }

  function escHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
  function escJs(s){ return String(s||'').replace(/\\/g,'\\\\').replace(/'/g,"\\'").replace(/"/g,'\\"'); }
  function safe(u){ return u && String(u).trim() ? String(u).trim() : 'https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg'; }

  try {
    const res = await fetch(sheetUrl);
    if(!res.ok) throw new Error('sheet fetch failed ' + res.status);
    const data = await res.json();
    if(!Array.isArray(data) || !data.length){ document.getElementById('fsMsg').textContent='check again in 2 sec.'; return; }


// Only match by Tag field (ignore category, description, etc.)
const useData = data.filter(item => {
  const tagValue = String(findField(item, ['Tag', 'tag']) || '').toLowerCase();
  return tagValue.includes('top') || tagValue.includes('new') || tagValue.includes('most');
});
    // helper to normalise tag field and split into tokens
    function tagTokens(item){
      const raw = String(findField(item, ['Tag','tag','Category','category']) || item.Tag || item.tag || '').toLowerCase();
      if(!raw) return [];
      return raw.split(/[\s,;|]+/).map(s=>s.trim()).filter(Boolean);
    }

    // compute lists (strict tag matching)
    const top = useData.filter(i=> {
      const tokens = tagTokens(i);
      return tokens.includes('top');
    }).slice(0,limit);

    const newList = (function(){
      const hasDate = Object.keys(useData[0] || {}).some(k=> normKey(k) === 'dateadded' || normKey(k) === 'date');
      if(hasDate){
        return useData.map(it=> Object.assign({__date: (findField(it,['DateAdded','Date Added','dateadded','date','added'])||'')}, it))
                   .filter(x=> x.__date )
                   .sort((a,b)=> new Date(b.__date) - new Date(a.__date))
                   .slice(0,limit);
      } else {
        return useData.filter(i=> {
          const tokens = tagTokens(i);
          return tokens.includes('new');
        }).slice(0,limit);
      }
    })();

    const most = useData.filter(i=> {
      const tokens = tagTokens(i);
      return tokens.includes('most');
    }).slice().map(it=> Object.assign({__views: parseInt(String(findField(it,['Views','views','viewscount'])||it.Views||'0').replace(/\D/g,''),10)||0}, it)).sort((a,b)=> b.__views - a.__views).slice(0,limit);

    // render
    const topGrid = document.getElementById('fsTopGrid'), newGrid = document.getElementById('fsNewGrid'), mostGrid = document.getElementById('fsMostGrid');
    window.fsProducts = []; let gIdx = 0;

    function makeCard(p, idx, tag){
      const name = findField(p, ['ProductName','Product Name','product','name','title']) || 'Unnamed';
      // tolerant field lookup for prices
      const priceTxt = findField(p, ['DiscountPrice','Discount Price','discount','Sale Price','saleprice','specialprice','PriceNow','NowPrice']) || '';
      const oldTxt   = findField(p, ['Price','price','Amount','amount','Selling Price','SellingPrice','Cost']) || '';
      const priceStr = String(priceTxt || oldTxt || '').trim();
      const oldStr   = String(oldTxt || '').trim();
      const img = safe(findField(p, ['ImageLink','Image','imageurl','images','photo','photos']));
      const hasDiscount = String(priceTxt||'').trim() !== '' && String(oldTxt||'').trim() !== '';

      // numeric parse to compute save if possible
      const priceNum = parseNumberFlexible(priceStr);
      const oldNum = parseNumberFlexible(oldStr);
      let saveHtml = '';
      if(!isNaN(oldNum) && !isNaN(priceNum) && oldNum > priceNum){
        const save = Math.round(oldNum - priceNum);
        saveHtml = `<div class="fs-save">Save ${'‚Ç¶' + save.toLocaleString()}</div>`;
      } else if((oldStr || priceStr) && hasDiscount && (isNaN(oldNum) || isNaN(priceNum))){
        // cannot compute numeric save but show placeholder so users see Save position
        saveHtml = `<div class="fs-save">Save: ‚Äî</div>`;
      }

      const viewsVal = findField(p, ['Views','views','rating']) || '';
      const stars = viewsVal && String(viewsVal).trim() !== '' ? (function(){
        let v = parseInt(String(viewsVal).replace(/\D/g,''),10);
        if(isNaN(v)) v = 5;
        v = Math.max(1, Math.min(5, v));
        return Array.from({length:5},(_,k)=> k<v ? '‚òÖ' : '‚òÜ').join('');
      })() : '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ';

      const wa = (findField(p,['WhatsApp','WhatsApp Link','whatsapp']) || 'https://wa.me/2347080535579');
      const badgeClass = tag==='top' ? 'fs-orange' : (tag==='new' ? 'fs-green' : 'fs-orange');
      const badgeText = tag==='top' ? 'BESTSELLER' : (tag==='new' ? 'NEW' : 'TRENDING');

      // priceHtml includes saveHtml so Save sits directly under price
      const priceHtml = `${ hasDiscount ? `<div class="fs-old">${escHtml(oldStr)}</div>` : '' }<div class="fs-price">${escHtml(priceStr || oldStr)}</div>${saveHtml ? saveHtml : ''}`;

      return `
        <div class="fs-card" data-idx="${idx}">
          <div class="fs-badge ${badgeClass} fs-blink">${badgeText}</div>
          <span class="fs-thumb" onclick="fsOpenDetails(${idx})" role="button" aria-label="Open ${escHtml(name)}"><img src="${escHtml(img)}" alt="${escHtml(name)}" loading="lazy"></span>
          <div class="fs-body">
            <h3 onclick="fsOpenDetails(${idx})">${escHtml(name)}</h3>
            <div class="fs-price-row">
              ${ priceHtml }
            </div>
            <div class="fs-timer" id="fs-timer-${idx}" data-idx="${idx}"></div>
            <div class="fs-stars">${escHtml(stars)}</div>
            <div class="fs-btns">
              <a class="fs-btn fs-inquiry" href="${(String(wa).startsWith('http')? wa : wa + '?text=' + encodeURIComponent('Hello, I am interested in ' + name))}" target="_blank" rel="noopener">üì© Inquiry</a>
              <button class="fs-btn fs-add" onclick="fsAddToCart('${escJs(name)}','${escJs(priceStr || oldStr)}','${escJs(img)}')">üõí Add to Cart</button>
            </div>
          </div>
        </div>
      `;
    }

    function appendList(list, grid, tag){
      const out = [];
      for(const it of list){
        const idx = gIdx++;
        window.fsProducts[idx] = it;
        out.push(makeCard(it, idx, tag));
      }
      grid.innerHTML = out.length ? out.join('') : `<div style="grid-column:1/-1;padding:12px;color:var(--muted,#666);border-radius:8px;background:var(--card,#fff)">No ${tag} items</div>`;
    }

    appendList(most, mostGrid, 'most');
    appendList(top, topGrid, 'top');
    appendList(newList, newGrid, 'new');

    // set countdown metadata: prefer explicit OfferEnd/EndDate if present else 30-day from now or from DateAdded
    window.fsProducts.forEach((p, idx) => {
      if(!p) return;
      const endField = findField(p, ['OfferEnds','Offer End','EndDate','End Date','OfferEndDate']);
      const dateField = findField(p, ['DateAdded','Date Added','date','added']);
      let endTime = null;
      if(endField){
        const d = new Date(endField);
        if(!isNaN(d)) endTime = d.getTime();
      }
      if(!endTime && dateField){
        const d = new Date(dateField);
        if(!isNaN(d)) endTime = d.getTime() + (30 * 24 * 60 * 60 * 1000);
      }
      if(!endTime) endTime = Date.now() + (30 * 24 * 60 * 60 * 1000);
      p._hasCountdown = !!( findField(p,['Price','price','DiscountPrice','discount','Offer']) || findField(p,['Price','DiscountPrice','Discount Price']) );
      p._durationMs = 30 * 24 * 60 * 60 * 1000;
      p._endTime = endTime;
    });

    // timers tick
    setInterval(()=> {
      (window.fsProducts||[]).forEach((p, idx) => {
        if(!p || !p._hasCountdown) return;
        const el = document.getElementById('fs-timer-' + idx);
        if(!el) return;
        let t = p._endTime - Date.now();
        if(t <= 0){ p._endTime = Date.now() + p._durationMs; t = p._endTime - Date.now(); }
        const s = Math.floor(t/1000); const d=Math.floor(s/86400); const h=Math.floor((s%86400)/3600); const m=Math.floor((s%3600)/60); const sec=s%60;
        el.textContent = 'Offer ends in: ' + `${d}d ${h}h ${m}m ${sec}s`;
      });
    }, 1000);

    // stop badge blink after 10s (attention then calm)
    setTimeout(()=> document.querySelectorAll('.fs-blink').forEach(b=> b.classList.remove('fs-blink')), 10000);

  } catch(err){
    console.error('feat error', err);
    try{ document.getElementById('fsMsg').textContent = 'Error loading featured products.'; }catch(e){}
  }

  // Add-to-cart (robust + sync)
  window.fsAddToCart = function(name, price, image){
    try {
      if(!image || String(image).trim()==='') { alert('Item image missing ‚Äî cannot add'); return; }
      const cart = JSON.parse(localStorage.getItem('cart') || '[]');
      cart.push({ name: name || '', price: price || '', image: image || '', qty: 1 });
      localStorage.setItem('cart', JSON.stringify(cart));
      try { const ev = new Event('storage'); ev.key = 'cart'; window.dispatchEvent(ev); } catch(e){}
      updateCartBadges(cart.length);
    } catch (err) { console.error('fsAddToCart error', err); }
  };

  function updateCartBadges(count){
    const ids = ['cart-count-bottom','cart-count','cart-count-bottom'];
    let found = false;
    ids.forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        el.style.display = count > 0 ? 'inline-block' : 'none';
        el.textContent = count;
        try { el.animate([{ transform: 'scale(1.2)' }, { transform: 'scale(1)' }], { duration: 220 }); } catch(e){}
        found = true;
      }
    });
    if (!found) {
      setTimeout(()=> {
        if (!updateCartBadges._tries) updateCartBadges._tries = 1; else updateCartBadges._tries++;
        if (updateCartBadges._tries <= 8) updateCartBadges(count);
        else updateCartBadges._tries = 0;
      }, 300);
    } else updateCartBadges._tries = 0;
  }

  (function syncCartUI(){
    try {
      const cart = JSON.parse(localStorage.getItem('cart') || '[]');
      updateCartBadges(cart.length);
      window.addEventListener('storage', (e) => {
        if (e.key === 'cart' || !e.key) {
          const c = JSON.parse(localStorage.getItem('cart')||'[]');
          updateCartBadges(c.length);
        }
      });
    } catch(e){ console.error('syncCartUI error', e); }
  })();

  // Details open/close + back behavior (single close on Back)
  window.fsOpenDetails = function(idx){
    const p = (window.fsProducts||[])[idx]; if(!p) return;
    const img = escHtml(findField(p,['ImageLink','Image','image','imageurl','images']) || 'https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg');
    document.getElementById('featLeft').innerHTML = `<img src="${img}" alt="${escHtml(p.ProductName||p.product||'')}" />`;
    const name = escHtml(findField(p,['ProductName','Product Name','product','name']) || 'Unnamed');
    const priceTxt = findField(p, ['DiscountPrice','Discount Price','discount','Offer','Price','price']) || '';
    const origTxt = findField(p, ['Price','price','Amount','amount']) || '';
    const priceHtml = priceTxt ? `<div class="fs-old">${escHtml(origTxt)}</div><div class="fs-price">${escHtml(priceTxt)}</div>` : `<div class="fs-price">${escHtml(origTxt||priceTxt)}</div>`;
    const desc = escHtml(findField(p,['Description','description','details']) || 'No description available.');
    const wa = (findField(p,['WhatsApp','WhatsApp Link','whatsapp']) || 'https://wa.me/2347080535579');

    document.getElementById('featRight').innerHTML = `
      <h2>${name}</h2>
      <div class="fs-price-row">${priceHtml}</div>
      <div class="fs-timer" id="fs-details-timer">--</div>
      <div class="fs-stars">${escHtml(findField(p,['Views','views','rating']) || '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ')}</div>
      <div style="margin-top:12px;display:flex;gap:8px;">
        <a class="fs-btn fs-inquiry" href="${wa}?text=${encodeURIComponent('Hello, I am interested in ' + name)}" target="_blank">üì© Inquiry</a>
        <button class="fs-btn fs-add" onclick="fsAddToCart('${escJs(name)}','${escJs(priceTxt||origTxt)}','${escJs(img)}')">üõí Add to Cart</button>
      </div>
      <div class="feat-desc"><h3 style="margin-top:18px;color:var(--accent,#111)">Product description</h3><p style="margin-top:8px;">${desc}</p></div>
    `;

    // show overlay
    const details = document.getElementById('featDetails');
    details.style.display = 'flex'; details.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden';

    // set details timer
    if(p._hasCountdown){
      const dt = document.getElementById('fs-details-timer'); let t = p._endTime - Date.now();
      if(t<=0){ p._endTime = Date.now() + p._durationMs; t = p._endTime - Date.now(); }
      if(dt){
        const s = Math.floor(t/1000); const d=Math.floor(s/86400); const h=Math.floor((s%86400)/3600); const m=Math.floor((s%3600)/60); const sec=s%60;
        dt.textContent = 'Offer ends in: ' + `${d}d ${h}h ${m}m ${sec}s`;
      }
    }

    try{ history.pushState({feat:'open', idx: idx}, '', '#fproduct-' + idx); } catch(e){}
  };

  // close button
  document.getElementById('featClose').addEventListener('click', function(){
    const details = document.getElementById('featDetails');
    details.style.display = 'none'; details.setAttribute('aria-hidden','true'); document.body.style.overflow = '';
  });

  // popstate: if overlay is open -> close it (once)
  window.addEventListener('popstate', function(){
    try{
      const details = document.getElementById('featDetails');
      if(details && details.style.display === 'flex'){
        const closeBtn = document.getElementById('featClose');
        if(closeBtn) closeBtn.click();
      }
    }catch(e){ console.error('feat popstate', e); }
  });

  // utility shorthand used above (kept for compatibility)
  function findField(it, names){ for(const n of names){ for(const k in it) if(normKey(k)===normKey(n)) return it[k]; } return ''; }

})();
</script>


<!-- ======= end featured block ======= --><!-- ===== Footer (merged, very black) ===== -->
  <footer class="shilpi-footer">
    <div class="shilpi-container" style="max-width:1150px;margin:0 auto;">
      <div class="footer-extra">
        <p>üí´ Your dream home starts here with V‚ÄôBest Luxury Interiors.</p>
      </div>

      <div class="about" style="margin-top:18px;">
            <!-- Reviews: summary + visible reviews + see more + write button -->
      <div class="vbest-reviews" aria-label="Customer reviews">
        <div class="vbest-summary" role="region" aria-live="polite">
          <div class="vbest-score">
            <div class="vbest-score-number" id="vbest-score-number">4.89</div>
            <div class="vbest-stars" aria-hidden="true">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="vbest-count" id="vbest-count">9 reviews</div>
          </div>

          <div class="vbest-bars" aria-hidden="true">
            <div class="vbest-bar-row"><span class="vbest-bar-label">5</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-5" style="width:89%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-5">(8)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">4</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-4" style="width:11%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-4">(1)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">3</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-3" style="width:0%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-3">(0)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">2</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-2" style="width:0%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-2">(0)</span>
            </div>
            <div class="vbest-bar-row"><span class="vbest-bar-label">1</span>
              <div class="vbest-bar"><div class="vbest-bar-fill" id="vbest-bar-1" style="width:0%"></div></div>
              <span class="vbest-bar-num" id="vbest-num-1">(0)</span>
            </div>
          </div>

          <button class="vbest-write-btn" id="vbestWriteReview" type="button">Write a Review</button>
        </div>

        <div class="vbest-list" aria-live="polite">
          <!-- Default placeholder reviews (shown if DB empty or fewer than needed) -->
          <article class="vbest-review" id="vbest-default-review-1">
            <div class="vbest-avatar">E</div>
            <div class="vbest-review-body">
              <div class="vbest-review-meta">
                <strong>mrs blessing</strong>
                <span class="vbest-verified" title="Verified buyer">‚úîÔ∏è</span>
                <small class="vbest-date">2025-06-12</small>
                <div class="vbest-review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
              <p class="vbest-review-text">V‚ÄôBest Luxury Interiors delivers nothing but the best! Their products are top quality, negotiable, and I was amazed by how fast my order arrived. Highly recommend!</p>
            </div>
          </article>

          <article class="vbest-review" id="vbest-default-review-2">
            <div class="vbest-avatar">J</div>
            <div class="vbest-review-body">
              <div class="vbest-review-meta">
                <strong>John idow</strong>
                <span class="vbest-date">2025-01-08</span>
                <div class="vbest-review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              </div>
              <p class="vbest-review-text">Beautiful finish and prompt delivery. The sofa fits perfectly in my living room.</p>
            </div>
          </article>

          <div id="vbest-approved-visible"></div>
          <div id="vbest-approved-hidden" style="display:none;"></div>

          <div class="vbest-list-actions">
            <button id="vbestSeeMore" class="vbest-see-btn" type="button" style="display:none;">See More Reviews</button>
          </div>
        </div>
      </div>
    </div>
    
      
       <p class="tagline">We're the best</p>
        <p class="about-text">Designed to elevate your home, our premium pieces combine comfort, durability, and style that speaks volumes.</p>

        <div class="social-icons" aria-label="social">
          <!-- Added WhatsApp, Facebook, YouTube (brand colored icons) -->
          <a href="https://wa.me/2347080535579" target="_blank" rel="noopener noreferrer" title="WhatsApp"><i class="fab fa-whatsapp"></i> WhatsApp</a>
          <a href="https://www.facebook.com/share/179pLbZtXk/" target="_blank" rel="noopener noreferrer" title="Facebook"><i class="fab fa-facebook"></i> Facebook</a>
          <a href="https://youtube.com/@best-tm7bm?si=w23wMA5R7ii3gmfM" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube"></i> YouTube</a>
          <a href="https://x.com/V_Best_?s=09" target="_blank" rel="noopener noreferrer">ùïè Twitter</a>
          <a href="https://www.instagram.com/vbest_luxury_interiors?igsh=MWFxcmN4eTd6dndnNQ==" target="_blank" rel="noopener noreferrer">üì∏ Instagram</a>
          <a href="https://www.tiktok.com/@vbestluxuryinterior?_t=ZS-90f23kWVIJh&_r=1" target="_blank" rel="noopener noreferrer">üéµ TikTok</a>
        </div>
      </div>

      <div class="footer-bottom" style="margin-top:18px;">
        <div class="footer-col">
          <h3>Categories</h3>
          <ul>
            <li>Living Room</li><li>Bedroom</li><li>Dining Room</li><li>Home Office</li><li>Kids & Baby</li><li>Outdoor & Patio</li><li>Storage & Organization</li><li>Accent & Decor</li>
        
        
<p><p> bedroom door</p>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Quick Links</h3>
          <div class="accordion">
            <button class="accordion-btn">About Us</button>
            <div class="accordion-content"><p>We bring world-class premium items to elevate your lifestyle with modern and timeless designs.</p></div>

            <button class="accordion-btn">Privacy Policy</button>
            <div class="accordion-content"><p>Your privacy is our priority. We never share customer data with third parties.</p></div>

            <button class="accordion-btn">Terms & Conditions</button>
            <div class="accordion-content"><p>All purchases are subject to our company‚Äôs standard terms and conditions.</p></div>

            <button class="accordion-btn">FAQ</button>
            <div class="accordion-content"><p>Find answers to the most common questions about delivery, warranty, and payments.</p></div>

            <button class="accordion-btn" data-action="backtotop">Back to Top</button>
            <div class="accordion-content"><p><a href="#" class="shilpi-top-link">Go to top</a></p></div>
          </div>
        </div>

        <div class="footer-col">
          <h3>Customer Service</h3>
          <p>üìû 2347080535579</p>
          <p>‚úâÔ∏è <a href="mailto:best28763@gmail.com">contactus@vbest.com</a></p>
          <p>üìç 
          <strong> visit our showroom:</strong>156 Olojo Drive, Ojo Alaba International Market, Lagos</p>
          <p>üïë 24/7 Support</p>
          <section style="text-align:center;padding:30px 15px;background:#fff;">
  <h2 style="font-size:20px;font-weight:700;color:#111;margin-bottom:10px;">
    V-Best Luxury Interiors
  </h2>
  <p style="color:#444;font-size:15px;margin-bottom:15px;">
    Learn more about how to choose the best luxury furniture for your home and lifestyle:
  </p>
  <div style="display:flex;flex-direction:column;gap:8px;">
    <a href="blog/bed-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Beds</a>
    <a href="blog/chair-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Chairs</a>
    <a href="blog/sofa-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Sofas</a>
    <a href="blog/dining-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Dining</a>
    <a href="blog/table-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Tables</a>
        <a href="blog/office-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">office furniture</a>
              <a href="blog/outdoor-in-lagos.html" style="color:orange;text-decoration:none;font-weight:500;">Outdoors</a>  
  </div>
</section>
          <iframe
  src="https://www.google.com/maps/embed?pb=!1m0!3m2!1sen!2sng!4v0!cid=7368111619021559737"
  width="100%" height="180"
  style="border:0; border-radius:10px; margin-top:8px; margin-bottom:0;"
  allowfullscreen
  loading="lazy"
  title="V-Best Luxury Interiors on Google Maps">
</iframe>
        </div>
      </div>
    </div>
    </div>
    
  </footer>
  <!-- ================= Original search script (kept behavior) ================= -->


  <script type="module">
    import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAF_Fy32TmyNOAYebcRCcOLhgcKn82Xavs",
      authDomain: "v-best-luxury-interiors.firebaseapp.com",
      databaseURL: "https://v-best-luxury-interiors-default-rtdb.firebaseio.com",
      projectId: "v-best-luxury-interiors",
      storageBucket: "v-best-luxury-interiors.firebasestorage.app",
      messagingSenderId: "331900870737",
      appId: "1:331900870737:web:c100c6a2987345eb955870",
      measurementId: "G-NP94R6352Q"
    };

    // Initialize Firebase safely
    let app;
    if (!getApps().length) app = initializeApp(firebaseConfig);
    else app = getApp();
    const db = getDatabase(app);

    // DOM refs
    const writeBtn = document.getElementById('vbestWriteReview');
    const approvedVisible = document.getElementById('vbest-approved-visible');
    const approvedHidden = document.getElementById('vbest-approved-hidden');
    const defaultRev1 = document.getElementById('vbest-default-review-1');
    const defaultRev2 = document.getElementById('vbest-default-review-2');
    const seeMoreBtn = document.getElementById('vbestSeeMore');


    const formContainer = (function(){
      const cont = document.createElement('div');
      cont.id = 'vbest-review-form-container';
      cont.className = 'vbest-review-form-container fullpage';
      cont.setAttribute('role','dialog');
      cont.setAttribute('aria-hidden','true');
      cont.innerHTML = `
        <form id="vbest-review-form" class="vbest-review-form" autocomplete="off" aria-label="Submit a review">
          <h2 style="margin-top:0; margin-bottom:10px; text-align:left;">Write a Review</h2>

          <div class="vbest-form-row">
            <label for="vbest-name">Name</label>
            <input id="vbest-name" name="name" type="text" placeholder="Your name" required />
          </div>

          <fieldset class="vbest-form-row" style="border:none;padding:0;margin:0;">
            <legend style="display:block;margin-bottom:6px;color:#b8dfe6;font-size:13px;">Rating</legend>

            <!-- Play-store style horizontal star row (replaces radio buttons). Hidden input 'rating' ensures existing submit code works. -->
            <div id="vbest-rating-wrap" role="radiogroup" aria-label="Rating" class="rating-row" style="justify-content:center;">
              <div class="rating-row-star" style="gap:6px;">
                <button type="button" class="vbest-star" data-value="1" aria-label="1 star" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="2" aria-label="2 stars" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="3" aria-label="3 stars" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="4" aria-label="4 stars" role="radio" aria-checked="false">‚òÖ</button>
                <button type="button" class="vbest-star" data-value="5" aria-label="5 stars" role="radio" aria-checked="false">‚òÖ</button>
              </div>
              <div id="vbest-star-label">Excellent</div>
            </div>

            <!-- Hidden input used by submit handler: form['rating'].value -->
            <input type="hidden" name="rating" id="vbest-hidden-rating" value="5" />
          </fieldset>

          <div class="vbest-form-row">
            <label for="vbest-comment">Your review</label>
            <textarea id="vbest-comment" name="comment" placeholder="Write your review..." rows="6" minlength="10" required></textarea>
          </div>

          <div class="vbest-form-actions">
            <button type="submit" class="vbest-submit-btn">Publish Review</button>
            <button type="button" id="vbest-cancel-form" class="vbest-cancel-btn">Cancel</button>
          </div>
          <div id="vbest-form-msg" class="vbest-form-msg" aria-live="polite"></div>
        </form>
      `;
      document.body.appendChild(cont);
      return cont;
    })();

    const form = document.getElementById('vbest-review-form');
    const cancelBtn = document.getElementById('vbest-cancel-form');
    const msgEl = document.getElementById('vbest-form-msg');

    // Utility escape
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]); }

    // Render one review block
    function createReviewElement(review) {
      const art = document.createElement('article');
      art.className = 'vbest-review';
      art.innerHTML = `
        <div class="vbest-avatar">${escapeHtml((review.name||'U').charAt(0).toUpperCase())}</div>
        <div class="vbest-review-body">
          <div class="vbest-review-meta">
            <strong>${escapeHtml(review.name || 'Anonymous')}</strong>
            <span class="vbest-verified" title="Verified">‚úîÔ∏è</span>
            <small class="vbest-date">${escapeHtml(review.date || '')}</small>
            <div class="vbest-review-stars">${'‚òÖ'.repeat(review.rating||5)}${'‚òÜ'.repeat(5-(review.rating||5))}</div>
          </div>
          <p class="vbest-review-text">${escapeHtml(review.comment || '')}</p>
        </div>
      `;
      return art;
    }

    // Update summary UI (score + bars)
    function updateSummaryUIFromApproved(arr){
      if (!arr || !arr.length) return; // keep defaults if none
      const totals = {1:0,2:0,3:0,4:0,5:0};
      let total = 0, weighted = 0;
      arr.forEach(r => { totals[r.rating] = (totals[r.rating]||0)+1; total++; weighted += (r.rating||0); });
      const avg = total ? (weighted / total) : 0;
      document.getElementById('vbest-score-number').textContent = (Math.round(avg * 100) / 100).toFixed(2);
      document.getElementById('vbest-count').textContent = `${total} review${total!==1 ? 's':''}`;
      const pct = s => total ? Math.round((s/total)*100) : 0;
      document.getElementById('vbest-bar-5').style.width = pct(totals[5]) + '%';
      document.getElementById('vbest-bar-4').style.width = pct(totals[4]) + '%';
      document.getElementById('vbest-bar-3').style.width = pct(totals[3]) + '%';
      document.getElementById('vbest-bar-2').style.width = pct(totals[2]) + '%';
      document.getElementById('vbest-bar-1').style.width = pct(totals[1]) + '%';
      document.getElementById('vbest-num-5').textContent = `(${totals[5]})`;
      document.getElementById('vbest-num-4').textContent = `(${totals[4]})`;
      document.getElementById('vbest-num-3').textContent = `(${totals[3]})`;
      document.getElementById('vbest-num-2').textContent = `(${totals[2]})`;
      document.getElementById('vbest-num-1').textContent = `(${totals[1]})`;
    }

    // Helper: process review text blocks to show preview + toggle full text
    function processAllReviews() {
      const all = document.querySelectorAll('.vbest-review');
      all.forEach(node => {
        if (node.dataset.processed === '1') return;
        const p = node.querySelector('.vbest-review-text');
        if (!p) { node.dataset.processed = '1'; return; }
        const fullText = p.textContent.trim();
        if (!fullText) { node.dataset.processed = '1'; return; }
        // build preview: first sentence if possible, else 120 chars
        let preview = fullText;
        const idx = fullText.indexOf('. ');
        if (idx > -1 && idx < 220) preview = fullText.slice(0, idx+1);
        if (preview.length > 220) preview = preview.slice(0,120) + '‚Ä¶';
        // construct inner markup
        p.innerHTML = '';
        const spanPreview = document.createElement('span');
        spanPreview.className = 'vbest-review-preview';
        spanPreview.textContent = preview;
        const spanFull = document.createElement('span');
        spanFull.className = 'vbest-review-full';
        spanFull.textContent = fullText;
        p.appendChild(spanPreview);
        p.appendChild(spanFull);
        // add toggle button
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'view-full';
        btn.textContent = 'View Full Review';
        btn.addEventListener('click', function(){
          const showing = spanFull.style.display === 'inline';
          if (showing) {
            spanFull.style.display = 'none';
            spanPreview.style.display = 'block';
            btn.textContent = 'View Full Review';
          } else {
            spanFull.style.display = 'inline';
            spanPreview.style.display = 'none';
            btn.textContent = 'Show Less';
          }
        });
        // append button if not already appended
        const existing = node.querySelector('.view-full');
        if (!existing) node.querySelector('.vbest-review-body').appendChild(btn);
        node.dataset.processed = '1';
      });
    }

    // Listen to reviews and display approved reviews: 3 visible, rest hidden
    const reviewsRef = ref(db, 'reviews');
    onValue(reviewsRef, (snap) => {
      const val = snap.val();
      const approved = [];
      if (val) {
        Object.keys(val).forEach(k => {
          const r = val[k];
          if (r && (r.status === 'approved')) {
            const rating = parseInt(r.rating,10) || 5;
            approved.push({ id:k, name: r.name||'Anonymous', rating, comment: r.comment||'', date: r.date || r.createdAt || '' });
          }
        });
      }
      // sort by date (ISO) descending if available, else by id
      approved.sort((a,b) => (b.date || '').localeCompare(a.date || '') || (b.id||'').localeCompare(a.id||''));

      // clear containers
      approvedVisible.innerHTML = '';
      approvedHidden.innerHTML = '';
      // hide default placeholders initially
      if (defaultRev1) defaultRev1.style.display = 'none';
      if (defaultRev2) defaultRev2.style.display = 'none';

      if (approved.length === 0) {
        // show defaults
        if (defaultRev1) defaultRev1.style.display = '';
        if (defaultRev2) defaultRev2.style.display = '';
        seeMoreBtn.style.display = 'none';
        updateSummaryUIFromApproved([]);
        // ensure static defaults get the preview toggle
        processAllReviews();
        return;
      }

      // show first three (or fewer)
      const visible = approved.slice(0,3);
      const hidden = approved.slice(3);
      visible.forEach(r => {
        approvedVisible.appendChild(createReviewElement(r));
      });
      // hidden ones into hidden container
      hidden.forEach(r => {
        const el = createReviewElement(r);
        approvedHidden.appendChild(el);
      });

      // show/hide See More button
      if (hidden.length > 0) {
        seeMoreBtn.style.display = 'inline-block';
        approvedHidden.style.display = 'none';
      } else {
        seeMoreBtn.style.display = 'none';
        approvedHidden.style.display = 'none';
      }

      // process review preview toggles for newly added reviews
      processAllReviews();

      // update summary
      updateSummaryUIFromApproved(approved);
    });

    // toggle full-page form
    function toggleForm(show){
      if (!formContainer) return;
      if (typeof show === 'undefined') show = formContainer.style.display !== 'block';
      formContainer.style.display = show ? 'block' : 'none';
      formContainer.setAttribute('aria-hidden', show ? 'false' : 'true');
      if (show) {
        const nameInput = document.getElementById('vbest-name');
        if (nameInput) {
          nameInput.focus();
        }
        // ensure page scroll to top of form on small screens
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        // hide message on close
        if (msgEl) msgEl.textContent = '';
      }
    }

    // attach events
    if (writeBtn) writeBtn.addEventListener('click', (e)=>{ e.preventDefault(); toggleForm(true); });

    if (cancelBtn) cancelBtn.addEventListener('click', ()=>{ toggleForm(false); });

    // submit review -> push to DB with status 'approved' for auto-publish
    form.addEventListener('submit', async function(e){
      e.preventDefault();
      const name = form['name'].value.trim();
      const rating = parseInt(form['rating'].value,10) || 5;
      const comment = form['comment'].value.trim();
      if (!name || !comment || comment.length < 8) {
        msgEl.textContent = 'Please enter your name and at least 8 characters for your review.';
        return;
      }
      msgEl.textContent = 'Submitting...';
      try {
        const newRef = push(reviewsRef);
        const payload = {
          name,
          rating,
          comment,
          date: new Date().toISOString(),
          status: 'approved'   // published immediately
        };
        await set(newRef, payload);
        msgEl.textContent = 'Thanks ‚Äî your review is now published.';
        form.reset();
        // reset hidden rating to default 5 after reset
        const hidden = document.getElementById('vbest-hidden-rating');
        if (hidden) hidden.value = '5';
        // reset stars UI (handled by helper script below if present)
        setTimeout(()=>{ msgEl.textContent=''; toggleForm(false); }, 900);
      } catch (err) {
        console.error('Failed to submit review:', err);
        msgEl.textContent = 'Submission failed ‚Äî please try again later.';
      }
    });

    // See More toggling
    if (seeMoreBtn) {
      seeMoreBtn.addEventListener('click', function(){
        if (approvedHidden.style.display === 'none' || approvedHidden.style.display === '') {
          approvedHidden.style.display = 'block';
          this.textContent = 'See Less Reviews';
          // process reviews newly revealed
          processAllReviews();
        } else {
          approvedHidden.style.display = 'none';
          this.textContent = 'See More Reviews';
          window.scrollTo({ top: document.querySelector('.vbest-reviews').offsetTop - 20, behavior: 'smooth' });
        }
      });
    }

    // keyboard ESC closes form
    document.addEventListener('keydown', function(e){
      if (e.key === 'Escape' && formContainer && formContainer.style.display === 'block') toggleForm(false);
    });

  </script>

  <!-- Footer accordion script (REPLACED: click-only toggle, content hidden on load) -->
  <script>
    (function(){
      // hide all accordion content on load
      document.querySelectorAll('.accordion-content').forEach(function(c){ c.style.display = 'none'; });

      // add click handlers so content opens only when clicked (works on desktop & mobile)
      document.querySelectorAll('.accordion-btn').forEach(function(btn){
        btn.addEventListener('click', function(e){
          e.preventDefault();
          const content = btn.nextElementSibling;
          if (!content) return;
          // toggle clicked content only
          if (content.style.display === 'block') {
            content.style.display = 'none';
          } else {
            content.style.display = 'block';
          }
        });
        // ensure touch doesn't auto-open elsewhere; click handles toggling
        btn.addEventListener('touchstart', function(){ /* noop */ }, {passive:true});
      });

      // back-to-top link handling if present
      document.querySelectorAll(".shilpi-top-link").forEach(link => {
        link.addEventListener("click", e => { e.preventDefault(); window.scrollTo({ top: 0, behavior: "smooth" }); });
      });
    })();
  </script>

  <!-- ================= Star behavior script (wires up the new 5-star UI) ================= -->
  <script>
    (function(){
      const labelsMap = {1:'Poor',2:'Fair',3:'Good',4:'Very Good',5:'Excellent'};

      function setRatingUI(val) {
        const form = document.getElementById('vbest-review-form');
        if (!form) return;
        const hidden = form.querySelector('input[name="rating"]');
        if (hidden) hidden.value = String(val);
        const stars = form.querySelectorAll('.vbest-star');
        stars.forEach(s => {
          const v = Number(s.dataset.value);
          if (v <= val) s.classList.add('filled'); else s.classList.remove('filled');
          s.setAttribute('aria-checked', String(v === val));
        });
        const label = form.querySelector('#vbest-star-label');
        if (label) label.textContent = labelsMap[val] || '';
      }

      function attachStarHandlers() {
        const form = document.getElementById('vbest-review-form');
        if (!form) return;
        const stars = form.querySelectorAll('.vbest-star');
        if (!stars || stars.length === 0) return;

        stars.forEach(st => {
          st.addEventListener('click', function(e){
            const val = Number(this.dataset.value) || 5;
            setRatingUI(val);
          });

          st.addEventListener('keydown', function(e){
            const current = Number(form.querySelector('input[name=\"rating\"]').value || 5);
            if (e.key === 'ArrowRight' || e.key === 'ArrowUp') {
              e.preventDefault();
              const next = Math.min(5, current + 1);
              setRatingUI(next);
              const el = form.querySelector('.vbest-star[data-value=\"'+next+'\"]');
              if (el) el.focus();
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowDown') {
              e.preventDefault();
              const prev = Math.max(1, current - 1);
              setRatingUI(prev);
              const el = form.querySelector('.vbest-star[data-value=\"'+prev+'\"]');
              if (el) el.focus();
            } else if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              const val = Number(this.dataset.value) || 5;
              setRatingUI(val);
            }
          });

          // Make stars focusable
          st.setAttribute('tabindex','0');
        });

        // default rating
        setRatingUI(5);
      }

      // Ensure handlers are attached after the form exists. The form is dynamically created in a module script above.
      function waitForFormThenAttach(retries = 20) {
        const form = document.getElementById('vbest-review-form');
        if (form) {
          attachStarHandlers();
          return;
        }
        if (retries > 0) {
          setTimeout(() => waitForFormThenAttach(retries - 1), 120);
        }
      }
      waitForFormThenAttach();

      // When the form opens, scroll to top and focus name input (works on mobile)
      document.getElementById('vbestWriteReview').addEventListener('click', function(){
        setTimeout(function(){
          window.scrollTo({ top: 0, behavior: 'smooth' });
          const nameInput = document.getElementById('vbest-name');
          if (nameInput) nameInput.focus();
        }, 160);
      });

      // After submit reset, restore stars (in case form.reset() cleared hidden rating)
      document.addEventListener('submit', function(e){
        if (e.target && e.target.id === 'vbest-review-form') {
          setTimeout(function(){ setRatingUI(5); }, 300);
        }
      }, true);
    })();
  </script>

<!-- ================= ADDED: Bottom nav (theme + cart) and scripts ================= -->
<!-- bottom nav HTML (no home icon as requested) -->
<nav class="bottom-nav" role="navigation" aria-label="Main nav">
  <button id="themeSwitch" aria-label="Switch theme">üé® Theme</button>
  <a href="cart.html" id="nav-cart" aria-label="Cart">üõí Cart <span id="cart-count" class="cart-badge" style="display:none">0</span></a>
</nav>

<script>
  // Theme switcher (classic, dark, gold) ‚Äî non-intrusive, uses CSS variables already present
  (function(){
    const themes = ['classic','dark','gold'];
    let current = localStorage.getItem('vbest_theme') || 'classic';
    if (!themes.includes(current)) current = 'classic';
    document.body.setAttribute('data-theme', current);
    let idx = themes.indexOf(current);
    const btn = document.getElementById('themeSwitch');
    if (btn){
      btn.addEventListener('click', ()=> {
        idx = (idx + 1) % themes.length;
        const t = themes[idx];
        document.body.setAttribute('data-theme', t);
        localStorage.setItem('vbest_theme', t);
      });
    }
  })();

  // Cart badge (localStorage 'cart' array)
  (function(){
    function updateCartCount(){
      try{
        const el = document.getElementById('cart-count');
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');
        if (cart && cart.length > 0){ el.style.display = 'inline-block'; el.textContent = cart.length; }
        else { el.style.display = 'none'; }
      }catch(e){ /* ignore */ }
    }
    updateCartCount();
    window.addEventListener('storage', (e) => { if(e.key === 'cart') updateCartCount(); });
  })();
</script>

<!-- FULL-SCREEN WHATSAPP CHAT OVERLAY -->
<style>
#vChatBtn{
  position:fixed; left:10px;bottom:70px;
  width:50px;height:50px;border-radius:50%;
  background:#25D366;color:#fff;font-size:18px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 18px rgba(0,0,0,.25);
  cursor:pointer;z-index:10000;
  animation:pulse 1.4s infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1);opacity:1}
  50%{transform:scale(1.15);opacity:.9}
}
#vChatOverlay{
  position:fixed;inset:0;z-index:9999;
  background:#fff;display:none;flex-direction:column;
  font-family:Arial,Helvetica,sans-serif;
}
#vChatOverlay header{
  background:#25D366;color:#fff;
  padding:10px;font-size:10px;font-weight:700;
  display:flex;justify-content:space-between;align-items:center;
}
#vChatOverlay header button{
  background:none;border:none;color:#fff;
  font-size:22px;cursor:pointer;
}
#vChatOverlay .body{
  flex:1;padding:10px;overflow:auto;
  display:flex;flex-direction:column;justify-content:center;
  text-align:center;font-size:16px;color:#333;
}
#vChatOverlay textarea{
  width:90%;max-width:500px;height:100px;
  margin:0 auto 20px;border-radius:8px;
  border:1px solid #ccc;padding:10px;resize:none;
  font-size:15px;
}
#vChatOverlay .send{
  background:#25D366;color:#fff;border:none;
  padding:10px 20px;border-radius:8px;
  font-size:16px;font-weight:700;cursor:pointer;
}
</style>

<div id="vChatBtn" title="Chat with us">üí¨</div>

<div id="vChatOverlay">
  <header>
    <span>Chat with VBest</span>
    <button id="vClose">√ó</button>
  </header>
  <div class="body">
    <textarea id="vMsg" placeholder="Hi! Tell us what you need (size, budget, color ‚Ä¶)"></textarea>
    <button class="send" id="vSend">Send on WhatsApp</button>
  </div>
</div>

<script>
const btn=document.getElementById('vChatBtn');
const overlay=document.getElementById('vChatOverlay');
const close=document.getElementById('vClose');
const send=document.getElementById('vSend');
const msg=document.getElementById('vMsg');
const phone="2347080535579"; // your WhatsApp number

btn.onclick=()=>overlay.style.display="flex";
close.onclick=()=>overlay.style.display="none";
send.onclick=()=>{
  const text=msg.value.trim();
  if(!text){alert("Please type a message.");return;}
  const url="https://wa.me/"+phone+"?text="+encodeURIComponent(text);
  window.open(url,"_blank");
  msg.value="";
  overlay.style.display="none";
};
</script>
<!-- END FULL-SCREEN WHATSAPP CHAT OVERLAY -->
<!-- === SEARCH: show main category + matching sub-pages + products (paste before </body>) === -->
<style id="liveSearchStyles">
/* EXACT styles you provided ‚Äî do not change */
#searchResults { max-width: 980px; margin: 12px auto 36px; padding: 0 12px; box-sizing: border-box; }
#searchPages { display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-bottom:10px; }
.search-page-link {
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px;
  background:linear-gradient(90deg, rgba(255,153,0,0.12), rgba(0,0,0,0.02));
  color:var(--brand-blue,#146eb4); font-weight:800; text-decoration:none; border:1px solid rgba(0,0,0,0.04);
}
.search-page-link:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,0.06); }
#searchProductsGrid { display:grid; grid-template-columns:repeat(1,1fr); gap:12px; }
@media (min-width:720px){ #searchProductsGrid { grid-template-columns:repeat(2,1fr); } }
@media (min-width:1060px){ #searchProductsGrid { grid-template-columns:repeat(3,1fr); } }
.sr-card { background:var(--panel,#f9f9f9); border-radius:10px; padding:10px; display:flex; gap:10px; align-items:flex-start; border:1px solid var(--card-border,#e9e9e9); }
.sr-thumb { width:120px; height:90px; flex:0 0 120px; border-radius:6px; overflow:hidden; background:#fff; display:block; }
.sr-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.sr-meta { flex:1; min-width:0; text-align:left; }
.sr-name { font-weight:800; font-size:15px; margin:0 0 6px; color:var(--text,#111); overflow:hidden; text-overflow:ellipsis; white-space:nowrap; cursor:pointer; }
.sr-price-wrap { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:8px; }
.sr-old { text-decoration:line-through; color:#b12704; font-weight:800; font-size:13px; }
.sr-price { color:#27ae60; font-weight:900; font-size:15px; }
.sr-actions { display:flex; gap:8px; margin-top:6px; }
.sr-btn { padding:8px 10px; border-radius:8px; font-weight:800; text-decoration:none; border:0; cursor:pointer; display:inline-flex; align-items:center; gap:8px; }
.sr-inquiry { background:#25D366; color:#fff; }
.sr-add { background:var(--accent,#ff9900); color:#fff; }
#searchNoResults { text-align:center; color:var(--muted,#666); padding:12px 6px; }
.sr-highlight { background:linear-gradient(90deg, rgba(255,153,0,0.12), rgba(255,153,0,0.04)); padding:0 4px; border-radius:4px; }
.sr-count { color:var(--muted,#666); font-size:13px; margin-bottom:8px; display:block; }
</style>

<script>
(function(){
  // CONFIG: Google Sheet + site-index.json
  const SHEET_URL = "https://opensheet.elk.sh/1FA4s21Je3ebeFXUXGu_xvqdo4gbM1v9Q9jOHt6LAH6Y/Sheet1";
  const INDEX_URL = "site-index.json"; // your JSON you provided
  const MAX_RESULTS = 100;
  const DEFAULT_WA = "https://wa.me/2347080535579";

  // MAIN CATEGORY PAGES mapping ‚Äî ensure these filenames exist on your site
  // add or edit if you use different category page filenames
  const CATEGORY_PAGES = {
    chair: "chair.html",
    chairs: "chair.html",
    sofa: "sofa.html",
    sofas: "sofa.html",
    bed: "bed.html",
    beds: "bed.html",
    dining: "dining.html",
    table: "centertable.html",
    tables: "centertable.html",
    office: "office.html",
    outdoor: "outdoor.html",
    game: "game.html",
    light: "light.html",
    all: "all.html"
  };

  // DOM refs
  const input = document.getElementById('searchInput');
  const resultsEl = document.getElementById('searchResults');
  if(!input || !resultsEl) return;

  // state
  let sheetData = [];
  let pageIndex = [];
  let loaded = false;
  window.fsProducts = window.fsProducts || [];
  const idxMap = {}; // ProductName||Image -> idx

  // helpers
  const norm = s => String(s||'').toLowerCase().normalize('NFKD').replace(/[\u0300-\u036f]/g,'').trim();
  const esc = s => String(s||'');
  const safeImg = u => (u && String(u).trim()) ? u : 'https://i.postimg.cc/yxGGYGDw/Ag-ACkq-HWp-Pyzt-HZ89-Sp-Vx-Y.jpg';
  function reEscape(s){ return String(s||'').replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
  function highlight(text, tokens){
    if(!tokens || !tokens.length) return esc(text);
    let out = esc(text);
    tokens.forEach(t => {
      if(!t) return;
      out = out.replace(new RegExp('(' + reEscape(t) + ')','ig'), '<span class="sr-highlight">$1</span>');
    });
    return out;
  }

  // load sheet + index
  async function loadData(){
    if(loaded) return; loaded = true;
    try{
      const [sRes, pRes] = await Promise.all([fetch(SHEET_URL), fetch(INDEX_URL)]);
      const sJson = await sRes.json();
      const pJson = await pRes.json();
      sheetData = Array.isArray(sJson) ? sJson : [];
      pageIndex = Array.isArray(pJson) ? pJson : [];

      // normalize and append sheet rows into window.fsProducts (avoid duplicates)
      sheetData.forEach((r) => {
        const row = {
          Category: r.Category || r.category || '',
          ProductName: r.ProductName || r.product || '',
          Description: r.Description || r.description || '',
          DiscountPrice: r.DiscountPrice || r['DiscountPrice '] || r.discountprice || '',
          Price: r.Price || r.price || '',
          ImageLink: r.ImageLink || r.image || r.imageurl || '',
          Region: r.Region || r.region || '',
          Views: r.Views || r.views || 0,
          Tag: r.Tag || r.tag || ''
        };
        const key = (row.ProductName||'') + '||' + (row.ImageLink||'');
        if(idxMap[key] !== undefined) return;
        const idx = window.fsProducts.length;
        window.fsProducts.push(row);
        idxMap[key] = idx;
      });
    }catch(err){
      console.error('loadData error', err);
      sheetData = [];
      pageIndex = [];
    }
  }

  // tokens from query
  function queryTokens(q){
    return (q||'').toLowerCase().split(/\s+/).map(t => t.trim()).filter(Boolean);
  }

  // tokenMatchesField: true if token contains field or field contains token or any word-substring match
  function tokenMatchesField(token, field){
    if(!field) return false;
    const f = norm(field);
    const t = norm(token);
    if(!t) return false;
    if(f.includes(t) || t.includes(f)) return true;
    const words = f.split(/[^a-z0-9]+/).filter(Boolean);
    for(const w of words){
      if(w && (w.includes(t) || t.includes(w))) return true;
    }
    return false;
  }

  // Score row according to priority: Category (100) > ProductName (60) > Region (30) > Description (10)
  function scoreRow(row, tokens){
    let score = 0;
    for(const tok of tokens){
      if(!tok) continue;
      if(tokenMatchesField(tok, row.Category)) { score += 100; continue; }
      if(tokenMatchesField(tok, row.ProductName)) { score += 60; continue; }
      if(tokenMatchesField(tok, row.Region)) { score += 30; continue; }
      if(tokenMatchesField(tok, row.Description)) { score += 10; continue; }
    }
    // small views boost
    const v = parseInt(String(row.Views||0).replace(/\D/g,''),10) || 0;
    score += Math.min(50, Math.floor(v/10));
    return score;
  }

  // detect main category page (chair.html etc) from tokens using CATEGORY_PAGES map
  function detectMainCategoryPage(tokens){
    for(const tok of tokens){
      if(!tok) continue;
      const t = tok.toLowerCase().replace(/[^a-z0-9]/g,'');
      if(CATEGORY_PAGES[t]) return { link: CATEGORY_PAGES[t], title: t.charAt(0).toUpperCase() + t.slice(1) };
    }
    return null;
  }

  // detect matching sub-pages from pageIndex (title/tags/description)
  function detectSubPages(tokens){
    const matches = [];
    for(const p of pageIndex){
      for(const tok of tokens){
        if(!tok) continue;
        if(tokenMatchesField(tok, p.title) || tokenMatchesField(tok, p.description) || (p.tags||[]).some(tag => tokenMatchesField(tok, tag))){
          matches.push(p);
          break;
        }
      }
    }
    return matches;
  }

  // find product matches from sheet and return scored sorted list
  function findProductMatches(tokens){
    const scored = [];
    for(const r of sheetData){
      const s = scoreRow(r, tokens);
      if(s > 0) scored.push({row:r, score:s});
    }
    scored.sort((a,b) => {
      if(b.score !== a.score) return b.score - a.score;
      const av = parseInt(String(a.row.Views||0).replace(/\D/g,''),10) || 0;
      const bv = parseInt(String(b.row.Views||0).replace(/\D/g,''),10) || 0;
      return bv - av;
    });
    return scored.slice(0, MAX_RESULTS);
  }

  // render final results: main category page first (if any), then sub-pages, then products
  function render(query){
    const tokens = queryTokens(query);
    resultsEl.innerHTML = '';
    if(!tokens.length) return;

    const mainPage = detectMainCategoryPage(tokens);      // e.g., {link:'chair.html', title:'Chair'}
    const subPages = detectSubPages(tokens);              // from site-index.json (e.g., Accent Chairs)
    const products = findProductMatches(tokens);          // sheet results (scored)

    let html = '';

    // main category CTA first (if exists) ‚Äî ensure not duplicate with subPages
    if(mainPage){
      html += `<div id="searchPages" aria-label="Pages matching search">
        <a class="search-page-link" href="${esc(mainPage.link)}">View all ${esc(mainPage.title)}</a>
      </div>`;
    }

    // sub-pages (if any) ‚Äî show them below main CTA (avoid duplicate main page link)
    if(subPages && subPages.length){
      // ensure we still have the banner container (append)
      if(!mainPage) html += `<div id="searchPages" aria-label="Pages matching search">`;
      html += subPages.map(p => {
        // include thumbnail if present
        const thumb = p.image ? `<img src="${esc(p.image)}" style="width:30px;height:30px;border-radius:4px"> ` : '';
        return `<a class="search-page-link" href="${esc(p.link)}">${thumb}${highlight(p.title || p.link, tokens)}</a>`;
      }).join('');
      if(!mainPage) html += `</div>`;
    }

    // products
    if(products.length === 0){
      html += `<div id="searchNoResults">No matching products. Try fewer words or check pages above.</div>`;
    } else {
      html += `<div class="sr-count">Showing ${products.length} result(s)</div><div id="searchProductsGrid">` +
        products.map(item => {
          const p = item.row;
          const key = (p.ProductName||'') + '||' + (p.ImageLink||'');
          let idx = idxMap[key];
          if(idx === undefined){
            idx = window.fsProducts.length;
            window.fsProducts.push(p);
            idxMap[key] = idx;
          }
          const nameEsc = esc(p.ProductName || 'Unnamed');
          const price = esc(p.DiscountPrice || p.Price || '');
          const old = esc(p.Price || '');
          const img = safeImg(p.ImageLink || '');
          const waLink = DEFAULT_WA + '?text=' + encodeURIComponent('Hello, I am interested in ' + (p.ProductName||''));
          return `
            <div class="sr-card" data-idx="${idx}">
              <a class="sr-thumb" href="javascript:void(0)" data-idx="${idx}" aria-label="Open ${nameEsc}"><img src="${esc(img)}" alt="${nameEsc}" loading="lazy"></a>
              <div class="sr-meta">
                <div class="sr-name" data-idx="${idx}" role="button">${ highlight(nameEsc, tokens) }</div>
                <div class="sr-price-wrap">
                  ${ old ? `<div class="sr-old">${old}</div>` : '' }
                  <div class="sr-price">${ price || old || '' }</div>
                </div>
                <div class="sr-actions">
                  <a class="sr-btn sr-inquiry" href="${waLink}" target="_blank" rel="noopener">üì© Inquiry</a>
                  <button class="sr-btn sr-add" data-idx="${idx}">üõí Add to Cart</button>
                </div>
              </div>
            </div>
          `;
        }).join('') + `</div>`;
    }

    resultsEl.innerHTML = html;

    // interactions
    resultsEl.querySelectorAll('.sr-thumb, .sr-name').forEach(el => {
      el.addEventListener('click', function(){
        const idx = parseInt(this.getAttribute('data-idx'), 10);
        if(!isNaN(idx) && typeof window.fsOpenDetails === 'function'){
          try{ window.fsOpenDetails(idx); } catch(e){ console.error('fsOpenDetails', e); }
        }
      }, { passive:true });
    });
    resultsEl.querySelectorAll('.sr-add').forEach(btn => {
      btn.addEventListener('click', function(e){
        e.preventDefault();
        const idx = parseInt(this.getAttribute('data-idx'), 10);
        const p = window.fsProducts && window.fsProducts[idx];
        if(!p){ alert('Product data not available'); return; }
        try{
          if(typeof window.fsAddToCart === 'function'){
            window.fsAddToCart(p.ProductName || '', p.DiscountPrice || p.Price || '', p.ImageLink || '');
          } else {
            const cart = JSON.parse(localStorage.getItem('cart')||'[]');
            cart.push({ name: p.ProductName || '', price: p.DiscountPrice || p.Price || '', image: p.ImageLink || '', qty:1 });
            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Added to cart (local)');
          }
        }catch(err){ console.error('AddToCart error', err); alert('Error adding to cart'); }
      }, { passive:false });
    });
  }

  // input wiring: debounce + load data
  let dTimer = null;
  input.addEventListener('input', function(){
    const v = input.value || '';
    if(!loaded) loadData().then(()=> { clearTimeout(dTimer); dTimer = setTimeout(()=> render(v), 160); });
    clearTimeout(dTimer);
    dTimer = setTimeout(()=> render(v), 160);
  });

  input.addEventListener('focus', function(){ if(!loaded) loadData(); if(input.value) render(input.value); });
  input.addEventListener('keydown', function(e){ if(e.key === 'Escape'){ input.value=''; resultsEl.innerHTML=''; input.blur(); } });

})();
</script>


<div id="loader" style="
  position:fixed;inset:0;z-index:9999;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:white;font-family:system-ui,sans-serif;
  color:#5b21b6;font-weight:600;font-size:18px;
  transition:opacity .8s ease;">
  <div id="loaderText" style="animation:zoom 2s ease-in-out infinite;">
    Please wait<span id="dots">...</span>
  </div>
  <div id="loaderMsg" style="margin-top:8px;font-size:14px;color:#6b7280;animation:zoom 3s ease-in-out infinite;">
    Loading your furniture experience ‚ú®
  </div>
</div>

<style>
body{opacity:1;transition:opacity 1s ease;} /* visible by default */
@keyframes blink{0%,100%{opacity:.2;}50%{opacity:1;}}
#dots{display:inline-block;animation:blink 1.2s infinite;}
@keyframes zoom{0%,100%{transform:scale(1);}50%{transform:scale(1.15);}}
</style>

<script>
(function(){
  const loader=document.getElementById('loader');
  const msg=document.getElementById('loaderMsg');

  // Skip loader if returning via back/forward navigation
  if (performance.getEntriesByType("navigation")[0].type === "back_forward") {
    loader.remove();
    return;
  }

  const lines=[
    "Polishing visuals ‚ú®",
    "Arranging comfy chairs ü™ë",
    "Almost ready üí´"
  ];
  let i=0;
  const rot=setInterval(()=>{i=(i+1)%lines.length;msg.textContent=lines[i];},1000);
  setTimeout(()=>{
    clearInterval(rot);
    loader.style.opacity='0';
    setTimeout(()=>{loader.remove();},800);
  },4000); // loader visible 10 s
})();
</script>
</body>

</html>